!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function t(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=window.wp.element,r={foreground:"#00588d",src:(0,o.createElement)("svg",{enableBackground:"new 0 0 40 40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)("g",{fill:"#00588d"},(0,o.createElement)("path",{d:"m34.88.16h-29.76c-1.66 0-3 1.34-3 3v2.34 5.33 26c0 1.66 1.34 3 3 3h29.77c1.66 0 3-1.34 3-3v-26-5.33-2.34c-.01-1.65-1.35-3-3.01-3zm.13 6.84c0 .55-.45 1-1 1h-5.71c-.55 0-1-.45-1-1s.45-1 1-1h5.71c.55 0 1 .45 1 1zm-1.71 29.84h-26.6c-1.11 0-2-.87-2-1.95v-21.09c.14.02.28.04.42.04h29.77c.15 0 .28-.02.42-.04v21.09c0 1.08-.9 1.95-2.01 1.95z"}),(0,o.createElement)("path",{d:"m31.07 20.53h-22.14c-.78 0-1.42-.64-1.42-1.42s.64-1.42 1.42-1.42h22.15c.78 0 1.42.64 1.42 1.42s-.64 1.42-1.43 1.42z"}),(0,o.createElement)("path",{d:"m20.32 26.53h-11.39c-.78 0-1.42-.64-1.42-1.42s.64-1.42 1.42-1.42h11.39c.78 0 1.42.64 1.42 1.42s-.64 1.42-1.42 1.42z"}),(0,o.createElement)("path",{d:"m27.49 32.53h-18.56c-.78 0-1.42-.64-1.42-1.42s.64-1.42 1.42-1.42h18.56c.78 0 1.42.64 1.42 1.42s-.64 1.42-1.42 1.42z"})))},l=JSON.parse('{"u2":"cumulus-gutenberg/collapsable-group"}');function a(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"keywords":["cumulus","cmls","group","stick","sticky","mobile"],"icon":"star-filled","category":"cmls","parent":["cumulus-gutenberg/collapsable-group"],"attributes":{},"supports":{"_#":"Allow customizing border","align":true,"alignWide":false,"className":true,"color":{"background":true,"__experimentalDuotone":false,"gradients":true,"link":true,"text":true},"customClassName":false,"defaultStylePicker":true,"html":false,"inserter":false,"multiple":true,"reusable":false,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":false,"__experimentalBorder":false}}');function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u=wp.blocks.registerBlockType,p=wp.blockEditor,d=p.useBlockProps,b=(p.BlockControls,p.InspectorControls,p.InnerBlocks),m=wp.components,g=(m.Flex,m.FlexItem,m.Dashicon,wp.element),y=g.useEffect,f=(g.useState,wp.data.useSelect);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}u("cumulus-gutenberg/collapsable-group-header",s(s({},c),{},{icon:{foreground:"#00588d",src:"heading"},name:"cumulus-gutenberg/collapsable-group-header",title:"Collapsable Group Header",description:"Header for a collapsable group.",keywords:[].concat(a(c.keywords),["header"]),attributes:{bodyId:{type:"string",source:"attribute",selector:"header",attribute:"aria-controls"},mobileExpandIcon:{type:"string"}},usesContext:["cmls-collapse-group/bodyId","cmls-collapse-group/mobileExpandIcon"],edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.context,l=e.clientId;y((function(){var e={};t.bodyId!==r["cmls-collapse-group/bodyId"]&&(e.bodyId=r["cmls-collapse-group/bodyId"]),t.mobileExpandIcon!==r["cmls-collapse-group/mobileExpandIcon"]&&(e.mobileExpandIcon=r["cmls-collapse-group/mobileExpandIcon"]),Object.values(e).length&&n(e)}),[r["cmls-collapse-group/bodyId"],r["cmls-collapse-group/mobileExpandIcon"]]);var a=f((function(e){var t=e("core/block-editor").getBlockParentsByBlockName(l,"cumulus-gutenberg/collapsable-group");if(t){var n=e("core/block-editor").getBlocksByClientId(t[t.length-1]);if(n&&n.length){var o=n[0].innerBlocks.filter((function(e){return"cumulus-gutenberg/collapsable-group-body"===(null==e?void 0:e.name)}));if(o&&o.length)return o[o.length-1].clientId}}return null}),[]),c=d({"aria-controls":"block-".concat(a)});return(0,o.createElement)("header",c,(0,o.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-content"},(0,o.createElement)(b,{template:[["core/post-title",{fontSize:"normal",style:{typography:{fontStyle:"normal",fontWeight:"400"}},isLink:!1}]],templateLock:!1})),(0,o.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-icon","data-icon":t.mobileExpandIcon},(0,o.createElement)("span",null)))},save:function(e){var t=e.attributes,n=d.save({"aria-controls":t.bodyId});return(0,o.createElement)("header",n,(0,o.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-content"},(0,o.createElement)(b.Content,null)),(0,o.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-icon","data-icon":t.mobileExpandIcon},(0,o.createElement)("span",null)))}}));var E=wp.blocks.registerBlockType,w=wp.blockEditor,O=w.useBlockProps,S=(w.BlockControls,w.InspectorControls,w.InnerBlocks),C=wp.element,I=C.useEffect;C.useState,E("cumulus-gutenberg/collapsable-group-body",k(k({},c),{},{icon:{foreground:"#00588d",src:"format-aside"},name:"cumulus-gutenberg/collapsable-group-body",title:"Collapsable Group Body",description:"Body for a collapsable group.",keywords:[].concat(a(c.keywords),["body"]),attributes:{anchor:{type:"string",source:"attribute",selector:"div.wp-block-cumulus-gutenberg-collapsable-group-body",attribute:"id"}},usesContext:["cmls-collapse-group/bodyId"],edit:function(e){var t=e.context,n=e.attributes,r=e.setAttributes;I((function(){n.anchor!==t["cmls-collapse-group/bodyId"]&&r({anchor:t["cmls-collapse-group/bodyId"]})}),[t["cmls-collapse-group/bodyId"]]);var l=O();return(0,o.createElement)("div",h({},l,{"data-anchor":t["cmls-collapse-group/bodyId"]}),(0,o.createElement)(S,{template:[["core/paragraph"]],templateLock:!1,__experimentalDirectInsert:!0,__experimentalDefaultBlock:"core/paragraph"}))},save:function(e){var t=e.attributes,n=O.save({id:t.anchor});return(0,o.createElement)("div",n,(0,o.createElement)(S.Content,null))}}));var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+a(Array(12)).map((function(){return Math.random().toString(32)[2]})).join("")};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var B=wp.blocks.registerBlockType,A=wp.blockEditor,D=A.useBlockProps,M=A.InspectorControls,_=A.InspectorAdvancedControls,N=A.InnerBlocks,T=A.ColorPaletteControl,z=wp.element,H=z.useEffect,F=z.useState,L=z.Platform,W=wp.components,Z=W.Panel,G=W.PanelBody,q=W.PanelRow,J=W.ToggleControl,R=W.SelectControl,U=W.TextControl,V=W.ExternalLink,$=function(e){var t,o,r,l,a,c,i,s,u,p,d,b,m={"--padding-top":null==e||null===(t=e.style)||void 0===t||null===(o=t.spacing)||void 0===o||null===(r=o.padding)||void 0===r?void 0:r.top,"--padding-right":null==e||null===(l=e.style)||void 0===l||null===(a=l.spacing)||void 0===a||null===(c=a.padding)||void 0===c?void 0:c.right,"--padding-bottom":null==e||null===(i=e.style)||void 0===i||null===(s=i.spacing)||void 0===s||null===(u=s.padding)||void 0===u?void 0:u.bottom,"--padding-left":null==e||null===(p=e.style)||void 0===p||null===(d=p.spacing)||void 0===d||null===(b=d.padding)||void 0===b?void 0:b.left,"--separator-color":null==e?void 0:e.separatorColor,"--collapse-width":null==e?void 0:e.collapseWidth};return e.borderColor&&(m.borderColor=e.borderColor),e.hasStickyPosition&&Object.assign(m,{"--sticky-position":null==e?void 0:e.stickyPosition,"--sticky-zindex":null==e?void 0:e.stickyZIndex}),e.mobileExpandIconColor&&(m["--mobile-expand-icon-color"]=null==e?void 0:e.mobileExpandIconColor),Object.keys(m).filter((function(e){return null!=m[e]&&null!=m[e]})).reduce((function(e,t){return j(j({},e),{},n({},t,m[t]))}),{})},K=function(e){var t={};return null!=e&&e.hasStickyPosition&&(t["sticky-desktop-container"]=null==e?void 0:e.stickyDesktopContainer,t["sticky-mobile-container"]=null==e?void 0:e.stickyMobileContainer),Object.keys(t).filter((function(e){return null!=t[e]&&null!=t[e]})).reduce((function(e,o){return j(j({},e),{},n({},"data-".concat(o),t[o]))}),{})},Q=function(e){return[null!=e&&e.collapseOnMobile?"has-collapse-on-mobile":null,null!=e&&e.alwaysShowHeader?"has-always-show-header":null,null!=e&&e.hasStickyPosition?"has-sticky-position":null,null!=e&&e.hasOnlyStickOnMobile?"has-only-stick-on-mobile":null].filter((function(e){return null!==e}))},X={section:"The <section> element should represent a standalone portion of the document that can't be better represented by another element.",aside:"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content."};B(l.u2,{icon:r,providesContext:{"cmls-collapse-group/bodyId":"bodyId","cmls-collapse-group/mobileExpandIcon":"mobileExpandIcon"},edit:function(e){var r,l,a=e.attributes,c=e.setAttributes,i=a.tagName,s=void 0===i?"div":i,u=(r=F($(a)),l=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,l=[],_n=!0,a=!1;try{for(n=n.call(e);!(_n=(o=n.next()).done)&&(l.push(o.value),!t||l.length!==t);_n=!0);}catch(e){a=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(a)throw r}}return l}}(r,l)||t(r,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],d=u[1],b="web"===L.OS;H((function(){window._wpLoadBlockEditor.then((function(){!function(e){var t,o,r=Object.assign({prefix:"",attributes:{},setAttributes:function(){},attribute:"bodyId"},e);if(null===(t=r.attributes)||void 0===t||!t.bodyId||r.attributes.bodyId&&(null===(o=window.document.querySelectorAll('[data-anchor="'.concat(r.attributes.bodyId,'"],#').concat(r.attributes.bodyId)))||void 0===o?void 0:o.length)>1){for(var l=x(r.prefix);window.document.querySelector('[data-anchor="'.concat(l,"],#").concat(l));)l=x(r.prefix);r.setAttributes(n({},r.attribute,l))}r.attributes.bodyId}({prefix:"cgcg-",attributes:a,setAttributes:c,attribute:"bodyId"})}))}),[]),H((function(){d($(a))}),[a]),H((function(){c({className:Q(a)})}),[null==a?void 0:a.collapseOnMobile,null==a?void 0:a.alwaysShowHeader,null==a?void 0:a.hasStickyPosition]);var m=D(j(j({className:Q(a)},K(a)),{},{style:p}));return(0,o.createElement)(s,m,(0,o.createElement)(M,null,(0,o.createElement)(Z,null,(0,o.createElement)(G,{title:"Collapse"},(0,o.createElement)(q,null,(0,o.createElement)(J,{label:"Collapse on Mobile",checked:a.collapseOnMobile,onChange:function(e){return c({collapseOnMobile:e})}})),(0,o.createElement)(q,null,(0,o.createElement)(J,{label:"Show Header on Desktop",checked:a.alwaysShowHeader,onChange:function(e){return c({alwaysShowHeader:e})}})),(a.collapseOnMobile||a.alwaysShowHeader)&&(0,o.createElement)(T,{label:"Header Separator Color",value:a.separatorColor,onChange:function(e){return c({separatorColor:e})}}),a.collapseOnMobile&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(R,{label:"Mobile Expand Icon",value:a.mobileExpandIcon,options:[{value:"plus",label:"Plus/Minus"},{value:"arrows",label:"Arrows"}],onChange:function(e){return c({mobileExpandIcon:e})}}),(0,o.createElement)(T,{label:"Mobile Expand Icon Color",value:a.mobileExpandIconColor,onChange:function(e){return c({mobileExpandIconColor:e})}}))),(0,o.createElement)(G,{title:"Sticky Position"},(0,o.createElement)(q,null,(0,o.createElement)(J,{label:"Stick Scroll Position",help:"Element will 'stick' within its boundary on desktop and mobile.",checked:a.hasStickyPosition,onChange:function(e){return c({hasStickyPosition:e})}})),a.hasStickyPosition&&(0,o.createElement)(o.Fragment,null,!a.backgroundColor&&(0,o.createElement)("p",null,(0,o.createElement)("strong",null,"Note: "),"Set a background color on this block when using sticky position so content underneath it does not show through!"),(0,o.createElement)(q,null,(0,o.createElement)(J,{label:"Only Stick on Mobile",checked:a.hasOnlyStickOnMobile,onChange:function(e){return c({hasOnlyStickOnMobile:e})}})),(0,o.createElement)(q,null,(0,o.createElement)(U,{label:"Sticky Position",help:(0,o.createElement)(o.Fragment,null,"Accepts any valid CSS"," ",(0,o.createElement)("em",null,"value"),". Relative to the boundary container's top. Default setting accounts for masthead height in the Cumulus Wordpress theme."),value:a.stickyPosition,onChange:function(e){return c({stickyPosition:e})}})),(0,o.createElement)(q,null,(0,o.createElement)(U,{label:"Sticky Z-Index",help:"Z-Index to apply when stuck.",value:a.stickyZIndex,onChange:function(e){return c({stickyZIndex:e})}})),(0,o.createElement)("h3",null,"Boundary Containers"),(0,o.createElement)("p",null,"The block's stickiness will be contained to the specified containers. The boundary must be a container of this block. If no selector is defined, the document body will be used."),(0,o.createElement)("p",null,"Containers between the boundary and this block which have position may break the boundary!",b&&(0,o.createElement)(V,{href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Positioning#positioning_contexts",style:{display:"block",marginTop:"8px"}},"Learn more about position context")),(0,o.createElement)(U,{label:"Desktop Container",help:(0,o.createElement)(o.Fragment,null,"Accepts any valid CSS"," ",(0,o.createElement)("em",null,"selector"),"."),value:a.stickyDesktopContainer,onChange:function(e){return c({stickyDesktopContainer:e})}}),(0,o.createElement)(U,{label:"Mobile Container",help:(0,o.createElement)(o.Fragment,null,"Accepts any valid CSS"," ",(0,o.createElement)("em",null,"selector"),"."),value:a.stickyMobileContainer,onChange:function(e){return c({stickyMobileContainer:e})}}))))),(0,o.createElement)(_,null,(0,o.createElement)(R,{label:"HTML element",options:[{label:"Default (<div>)",value:"div"},{label:"<section>",value:"section"},{label:"<aside>",value:"aside"}],value:s,onChange:function(e){return c({tagName:e})},help:X[s]})),(0,o.createElement)(N,{template:[["cumulus-gutenberg/collapsable-group-header"],["cumulus-gutenberg/collapsable-group-body",{anchor:a.bodyId}]],templateLock:!1}))},save:function(e){var t=e.attributes,n=t.tagName,r=void 0===n?"div":n,l=D.save(j(j({className:Q(t)},K(t)),{},{style:$(t)}));return(0,o.createElement)(r,l,(0,o.createElement)(N.Content,null))}})}();