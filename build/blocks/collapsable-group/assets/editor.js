!function(){"use strict";var e=window.React,t={foreground:"#00588d",src:(0,e.createElement)("svg",{enableBackground:"new 0 0 40 40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",{fill:"#00588d"},(0,e.createElement)("path",{d:"m34.88.16h-29.76c-1.66 0-3 1.34-3 3v2.34 5.33 26c0 1.66 1.34 3 3 3h29.77c1.66 0 3-1.34 3-3v-26-5.33-2.34c-.01-1.65-1.35-3-3.01-3zm.13 6.84c0 .55-.45 1-1 1h-5.71c-.55 0-1-.45-1-1s.45-1 1-1h5.71c.55 0 1 .45 1 1zm-1.71 29.84h-26.6c-1.11 0-2-.87-2-1.95v-21.09c.14.02.28.04.42.04h29.77c.15 0 .28-.02.42-.04v21.09c0 1.08-.9 1.95-2.01 1.95z"}),(0,e.createElement)("path",{d:"m31.07 20.53h-22.14c-.78 0-1.42-.64-1.42-1.42s.64-1.42 1.42-1.42h22.15c.78 0 1.42.64 1.42 1.42s-.64 1.42-1.43 1.42z"}),(0,e.createElement)("path",{d:"m20.32 26.53h-11.39c-.78 0-1.42-.64-1.42-1.42s.64-1.42 1.42-1.42h11.39c.78 0 1.42.64 1.42 1.42s-.64 1.42-1.42 1.42z"}),(0,e.createElement)("path",{d:"m27.49 32.53h-18.56c-.78 0-1.42-.64-1.42-1.42s.64-1.42 1.42-1.42h18.56c.78 0 1.42.64 1.42 1.42s-.64 1.42-1.42 1.42z"})))},o=JSON.parse('{"UU":"cumulus-gutenberg/collapsable-group"}'),l=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"keywords":["cumulus","cmls","group","stick","sticky","mobile"],"icon":"star-filled","category":"cmls","parent":["cumulus-gutenberg/collapsable-group"],"attributes":{},"supports":{"_#":"Allow customizing border","align":true,"alignWide":false,"className":true,"color":{"background":true,"__experimentalDuotone":false,"gradients":true,"link":true,"text":true},"customClassName":false,"defaultStylePicker":true,"html":false,"inserter":false,"multiple":true,"reusable":false,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":false,"__experimentalBorder":false}}'),n=window.wp.blocks,a=window.wp.blockEditor,r=window.wp.element,s=window.wp.data;(0,n.registerBlockType)("cumulus-gutenberg/collapsable-group-header",{...l,icon:{foreground:"#00588d",src:"heading"},name:"cumulus-gutenberg/collapsable-group-header",title:"Collapsable Group Header",description:"Header for a collapsable group.",keywords:[...l.keywords,"header"],attributes:{bodyId:{type:"string",source:"attribute",selector:"header",attribute:"aria-controls"},mobileExpandIcon:{type:"string"}},usesContext:["cmls-collapse-group/bodyId","cmls-collapse-group/mobileExpandIcon"],edit:t=>{const{attributes:o,setAttributes:l,context:n,clientId:c}=t;(0,r.useEffect)((()=>{const e={};o.bodyId!==n["cmls-collapse-group/bodyId"]&&(e.bodyId=n["cmls-collapse-group/bodyId"]),o.mobileExpandIcon!==n["cmls-collapse-group/mobileExpandIcon"]&&(e.mobileExpandIcon=n["cmls-collapse-group/mobileExpandIcon"]),Object.values(e).length&&l(e)}),[n["cmls-collapse-group/bodyId"],n["cmls-collapse-group/mobileExpandIcon"]]);const i=(0,s.useSelect)((e=>{const t=e("core/block-editor").getBlockParentsByBlockName(c,"cumulus-gutenberg/collapsable-group");if(t){const o=e("core/block-editor").getBlocksByClientId(t[t.length-1]);if(o&&o.length){const e=o[0].innerBlocks.filter((e=>"cumulus-gutenberg/collapsable-group-body"===e?.name));if(e&&e.length)return e[e.length-1].clientId}}return null}),[]),u=(0,a.useBlockProps)({"aria-controls":`block-${i}`});return(0,e.createElement)("header",{...u},(0,e.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-content"},(0,e.createElement)(a.InnerBlocks,{template:[["core/heading",{level:2,style:{typography:{fontStyle:"normal",fontWeight:"400"}},fontSize:"normal"}]],templateLock:!1})),(0,e.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-icon","data-icon":o.mobileExpandIcon},(0,e.createElement)("span",null)))},save:t=>{const{attributes:o}=t,l=a.useBlockProps.save({"aria-controls":o.bodyId});return(0,e.createElement)("header",{...l},(0,e.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-content"},(0,e.createElement)(a.InnerBlocks.Content,null)),(0,e.createElement)("div",{className:"wp-block-cumulus-gutenberg-collapsable-group-header-icon","data-icon":o.mobileExpandIcon},(0,e.createElement)("span",null)))}}),(0,n.registerBlockType)("cumulus-gutenberg/collapsable-group-body",{...l,icon:{foreground:"#00588d",src:"format-aside"},name:"cumulus-gutenberg/collapsable-group-body",title:"Collapsable Group Body",description:"Body for a collapsable group.",keywords:[...l.keywords,"body"],attributes:{anchor:{type:"string",source:"attribute",selector:"div.wp-block-cumulus-gutenberg-collapsable-group-body",attribute:"id"}},usesContext:["cmls-collapse-group/bodyId"],edit:t=>{const{context:o,attributes:l,setAttributes:n}=t;(0,r.useEffect)((()=>{l.anchor!==o["cmls-collapse-group/bodyId"]&&n({anchor:o["cmls-collapse-group/bodyId"]})}),[o["cmls-collapse-group/bodyId"]]);const s=(0,a.useBlockProps)();return(0,e.createElement)("div",{...s,"data-anchor":o["cmls-collapse-group/bodyId"]},(0,e.createElement)(a.InnerBlocks,{template:[["core/paragraph"]],templateLock:!1,directInsert:!0,defaultBlock:"core/paragraph"}))},save:t=>{const{attributes:o}=t,l=a.useBlockProps.save({id:o.anchor});return(0,e.createElement)("div",{...l},(0,e.createElement)(a.InnerBlocks.Content,null))}});const c=(e="")=>e+[...Array(12)].map((()=>Math.random().toString(32)[2])).join("");var i=window.wp.i18n,u=window.wp.components,d=t=>{const{settings:o}=t,l=(()=>{const e={disableCustomColors:!(0,a.useSetting)("color.custom"),disableCustomGradients:!(0,a.useSetting)("color.customGradient")},t=(0,a.useSetting)("color.palette.custom"),o=(0,a.useSetting)("color.palette.theme"),l=(0,a.useSetting)("color.palette.default"),n=(0,a.useSetting)("color.defaultPalette");return e.__experimentalHasMultipleOrigins=!0,e.colors=(0,r.useMemo)((()=>{const e=[];return o&&o.length&&e.push({name:(0,i._x)("Theme","Indicates this palette comes from the theme."),colors:o}),n&&l&&l.length&&e.push({name:(0,i._x)("Default","Indicates this palette comes from WordPress."),colors:l}),t&&t.length&&e.push({name:(0,i._x)("Custom","Indicates this palette comes from the theme."),colors:t}),e}),[l,o,t]),e})();return(0,e.createElement)(u.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,className:"block-editor-panel-color-gradient-settings__item-group"},o.map(((t,o)=>t&&(0,e.createElement)(u.Dropdown,{key:o,position:"bottom left",className:"block-editor-panel-color-gradient-settings__dropdown",contentClassName:"block-editor-panel-color-gradient-settings__dropdown-content",renderToggle:({isOpen:o,onToggle:l})=>{var n;return(0,e.createElement)(u.__experimentalItem,{onClick:l,className:["block-editor-panel-color-gradient-settings__item",o?"is-open":""].filter((e=>e))},(0,e.createElement)(u.__experimentalHStack,{justify:"flex-start"},(0,e.createElement)(u.ColorIndicator,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:null!==(n=t.gradientValue)&&void 0!==n?n:t.colorValue}),(0,e.createElement)(u.FlexItem,null,t.label)))},renderContent:()=>(0,e.createElement)(a.__experimentalColorGradientControl,{showTitle:!!t.label,__experimentalIsRenderedInSidebar:!0,...l,...t})}))))},p=(0,r.forwardRef)((({className:t,children:o},l)=>(0,e.createElement)("div",{className:"components-panel__row",style:{display:"block"},ref:l},o)));const m=e=>{const t={"--padding-top":e?.style?.spacing?.padding?.top,"--padding-right":e?.style?.spacing?.padding?.right,"--padding-bottom":e?.style?.spacing?.padding?.bottom,"--padding-left":e?.style?.spacing?.padding?.left,"--separator-color":e?.separatorColor};return e.borderColor&&(t.borderColor=e.borderColor),e.hasStickyPosition&&Object.assign(t,{"--sticky-position":e?.stickyPosition,"--sticky-zindex":e?.stickyZIndex}),e.mobileExpandIconColor&&(t["--mobile-expand-icon-color"]=e?.mobileExpandIconColor),Object.keys(t).filter((e=>null!=t[e]&&null!=t[e])).reduce(((e,o)=>({...e,[o]:t[o]})),{})},b=e=>{const t={};return e?.hasStickyPosition&&(t["sticky-desktop-container"]=e?.stickyDesktopContainer,t["sticky-mobile-container"]=e?.stickyMobileContainer),Object.keys(t).filter((e=>null!=t[e]&&null!=t[e])).reduce(((e,o)=>({...e,[`data-${o}`]:t[o]})),{})},g=e=>[e?.collapseOnMobile?"has-collapse-on-mobile":null,e?.alwaysShowHeader?"has-always-show-header":null,e?.hasStickyPosition?"has-sticky-position":null,e?.hasOnlyStickOnMobile?"has-only-stick-on-mobile":null].filter((e=>e)).join(" "),h={section:"The <section> element should represent a standalone portion of the document that can't be better represented by another element.",aside:"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content."};(0,n.registerBlockType)(o.UU,{icon:t,providesContext:{"cmls-collapse-group/bodyId":"bodyId","cmls-collapse-group/mobileExpandIcon":"mobileExpandIcon"},edit:t=>{const{attributes:o,setAttributes:l}=t,{tagName:n="div"}=o,[s,i]=(0,r.useState)(m(o)),y="web"===r.Platform.OS;(0,r.useMemo)((()=>{(!o.blockId||document.querySelectorAll("#"+o.blockId).length>1)&&window._wpLoadBlockEditor.then((()=>{(e=>{const t=Object.assign({prefix:"",attributes:{},setAttributes:()=>{},attribute:"bodyId"},e);if(!t.attributes?.bodyId||t.attributes.bodyId&&window.document.querySelectorAll(`[data-anchor="${t.attributes.bodyId}"],#${t.attributes.bodyId}`)?.length>1){let e=c(t.prefix);for(;window.document.querySelector(`[data-anchor="${e}],#${e}`);)e=c(t.prefix);t.setAttributes({[t.attribute]:e})}t.attributes.bodyId})({prefix:"cgcg-",attributes:o,setAttributes:l,attribute:"bodyId"})}))}),[]),(0,r.useMemo)((()=>{i(m(o))}),[o]),(0,r.useMemo)((()=>{o.className!==g(o)&&l({className:g(o)})}),[o]);const k=(0,a.useBlockProps)({className:g(o),...b(o),style:s});return(0,e.createElement)(n,{...k},(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(u.Panel,null,(0,e.createElement)(u.PanelBody,{title:"Collapse"},(0,e.createElement)(p,null,(0,e.createElement)(u.ToggleControl,{label:"Collapse on Mobile",checked:o.collapseOnMobile,onChange:e=>l({collapseOnMobile:e})})),(0,e.createElement)(p,null,(0,e.createElement)(u.ToggleControl,{label:"Show Header on Desktop",checked:o.alwaysShowHeader,onChange:e=>l({alwaysShowHeader:e})})),(o.collapseOnMobile||o.alwaysShowHeader)&&(0,e.createElement)(p,null,(0,e.createElement)(d,{settings:[{label:"Header Separator",colorValue:o.separatorColor,onColorChange:e=>l({separatorColor:e})}]})),o.collapseOnMobile&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p,null,(0,e.createElement)(u.SelectControl,{label:"Expand Icon",value:o.mobileExpandIcon,options:[{value:"plus",label:"Plus/Minus"},{value:"arrows",label:"Arrows"}],onChange:e=>l({mobileExpandIcon:e})})),(0,e.createElement)(p,null,(0,e.createElement)(d,{settings:[{label:"Icon Color",colorValue:o.mobileExpandIconColor,onColorChange:e=>l({mobileExpandIconColor:e})}]})))),(0,e.createElement)(u.PanelBody,{title:"Sticky Position"},(0,e.createElement)(p,null,(0,e.createElement)(u.ToggleControl,{label:"Stick Scroll Position",help:"Element will 'stick' within its boundary on desktop and mobile.",checked:o.hasStickyPosition,onChange:e=>l({hasStickyPosition:e})})),o.hasStickyPosition&&(0,e.createElement)(e.Fragment,null,!o.backgroundColor&&(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Note: "),"Set a background color on this block when using sticky position so content underneath it does not show through!"),(0,e.createElement)(p,null,(0,e.createElement)(u.ToggleControl,{label:"Only Stick on Mobile",checked:o.hasOnlyStickOnMobile,onChange:e=>l({hasOnlyStickOnMobile:e})})),(0,e.createElement)(p,null,(0,e.createElement)(u.TextControl,{label:"Sticky Position",help:(0,e.createElement)(e.Fragment,null,"Accepts any valid CSS"," ",(0,e.createElement)("em",null,"value"),". Relative to the boundary container's top. Default setting accounts for masthead height in the Cumulus Wordpress theme."),value:o.stickyPosition,onChange:e=>l({stickyPosition:e})})),(0,e.createElement)(p,null,(0,e.createElement)(u.TextControl,{label:"Sticky Z-Index",help:"Z-Index to apply when stuck.",value:o.stickyZIndex,onChange:e=>l({stickyZIndex:e})})),(0,e.createElement)("h3",null,"Boundary Containers"),(0,e.createElement)("p",null,"The block's stickiness will be contained to the specified containers. The boundary must be a container of this block. If no selector is defined, the document body will be used."),(0,e.createElement)("p",null,"Containers between the boundary and this block which have position may break the boundary!",y&&(0,e.createElement)(u.ExternalLink,{href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Positioning#positioning_contexts",style:{display:"block",marginTop:"8px"}},"Learn more about position context")),(0,e.createElement)(u.TextControl,{label:"Desktop Container",help:(0,e.createElement)(e.Fragment,null,"Accepts any valid CSS"," ",(0,e.createElement)("em",null,"selector"),"."),value:o.stickyDesktopContainer,onChange:e=>l({stickyDesktopContainer:e})}),(0,e.createElement)(u.TextControl,{label:"Mobile Container",help:(0,e.createElement)(e.Fragment,null,"Accepts any valid CSS"," ",(0,e.createElement)("em",null,"selector"),"."),value:o.stickyMobileContainer,onChange:e=>l({stickyMobileContainer:e})}))))),(0,e.createElement)(a.InspectorAdvancedControls,null,(0,e.createElement)(u.SelectControl,{label:"HTML element",options:[{label:"Default (<div>)",value:"div"},{label:"<section>",value:"section"},{label:"<aside>",value:"aside"}],value:n,onChange:e=>l({tagName:e}),help:h[n]})),(0,e.createElement)(a.InnerBlocks,{template:[["cumulus-gutenberg/collapsable-group-header"],["cumulus-gutenberg/collapsable-group-body",{anchor:o.bodyId}]],templateLock:!1}))},save:t=>{const{attributes:o}=t,{tagName:l="div"}=o,n=a.useBlockProps.save({className:g(o),...b(o),style:m(o)});return(0,e.createElement)(l,{...n},(0,e.createElement)(a.InnerBlocks.Content,null))}})}();