!function(){"use strict";var t={n:function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(e,{a:e}),e},d:function(a,e){for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})},o:function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}},a=window.jQuery,e=t.n(a)().noConflict();e.fn.crsgCategorySlideshow=function(t){return this.each((function(){var a=this,n=e(this);function r(t,a){return void 0===a?n.attr(t):n.attr(t,a)}function i(t,n){return void 0===n?e.data(a,t):e.data(a,t,n)}var o=r("data-category"),s=1e3*r("data-timeout");if(i("lastswap",null),window.cancelAnimationFrame(i("anim")),n.html(e("<div/>",{class:"crsg-category_slideshow-loading"})),o)return n.data("loading")&&n.data("loading").abort&&n.data("loading").abort(),n.data("loading",e.ajax({url:t,data:{action:"get_media_by_category",category:o},type:"GET",dataType:"json"}).done((function(t){var a=[];if(t.forEach((function(t,n){if(t.hasOwnProperty("guid"))try{var r=new URL(t.guid).pathname;a.push(e("<img/>",{alt:t.hasOwnProperty("post_title")?t.post_title:"",src:n<1?r:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","data-src":r,class:n<1?"current":""}))}catch(a){console.warn("Category Slideshow","Chosen category contains an invalid image",t)}})),a.length){var r=e("<div/>");r.append(a),n.html(r),i("anim",window.requestAnimationFrame(d))}else n.html('<div class="crsg-category_slideshow-error">No images found.</div>')}))),this;function d(){if(i("lastswap")||i("lastswap",(new Date).getTime()),(new Date).getTime()-i("lastswap")>s){var t=n.find(".current"),a=t.next("img");a.length||(a=t.siblings("img").eq(0)),a.attr("src",a.attr("data-src")),t.removeClass("current"),a.addClass("current"),i("lastswap",(new Date).getTime())}i("anim",window.requestAnimationFrame(d))}n.html('<div class="crsg-category_slideshow-error">No category defined.</div>')}))}}();