!function(){"use strict";var t={n:function(a){var n=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(n,{a:n}),n},d:function(a,n){for(var e in n)t.o(n,e)&&!t.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:n[e]})},o:function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}},a=window.jQuery;const n=t.n(a)().noConflict();n.fn.crsgCategorySlideshow=function(t){return this.each((function(){const a=this,e=n(this);function o(t,a){return void 0===a?e.attr(t):e.attr(t,a)}function i(t,e){return void 0===e?n.data(a,t):n.data(a,t,e)}const r=o("data-category"),s=1e3*o("data-timeout");if(i("lastswap",null),window.cancelAnimationFrame(i("anim")),e.html(n("<div/>",{class:"crsg-category_slideshow-loading"})),r)return e.data("loading")&&e.data("loading").abort&&e.data("loading").abort(),e.data("loading",n.ajax({url:t,data:{action:"get_media_by_category",category:r},type:"GET",dataType:"json"}).done((function(t){const a=[];if(t.forEach((function(t,e){if(t.hasOwnProperty("guid"))try{const o=new URL(t.guid).pathname;a.push(n("<img/>",{alt:t.hasOwnProperty("post_title")?t.post_title:"",src:e<1?o:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","data-src":o,class:e<1?"current":""}))}catch(a){console.warn("Category Slideshow","Chosen category contains an invalid image",t)}})),a.length){const t=n("<div/>");t.append(a),e.html(t),i("anim",window.requestAnimationFrame(c))}else e.html('<div class="crsg-category_slideshow-error">No images found.</div>')}))),this;function c(){if(i("lastswap")||i("lastswap",(new Date).getTime()),(new Date).getTime()-i("lastswap")>s){const t=e.find(".current");let a=t.next("img");a.length||(a=t.siblings("img").eq(0)),a.attr("src",a.attr("data-src")),t.removeClass("current"),a.addClass("current"),i("lastswap",(new Date).getTime())}i("anim",window.requestAnimationFrame(c))}e.html('<div class="crsg-category_slideshow-error">No category defined.</div>')}))}}();