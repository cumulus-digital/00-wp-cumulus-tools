!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n,r){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,"string");if("object"!==t(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r=window.wp.element,l={foreground:"#00588d",src:(0,r.createElement)("svg",{enableBackground:"new 0 0 40 40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m34.5 3c.6 0 1 .4 1 1v32c0 .6-.4 1-1 1h-29c-.6 0-1-.4-1-1v-32c0-.6.4-1 1-1zm0-3h-29c-2.2 0-4 1.8-4 4v32c0 2.2 1.8 4 4 4h28.9c2.2 0 4-1.8 4-4v-32c0-2.2-1.7-4-3.9-4zm-3.4 9.8h-18.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h18.2c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm-22 0h-.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h.1c.8 0 1.4.6 1.4 1.4s-.5 1.4-1.3 1.4zm22 17.4h-18.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h18.2c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm-22 0h-.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h.1c.8 0 1.4.6 1.4 1.4s-.5 1.4-1.3 1.4zm3-11.6h-.1c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h.1c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm19 0h-15.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h15.2c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm-19 5.8h-.1c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h.1c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm19 0h-15.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h15.2c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm-19 11.6h-.1c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h.1c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4zm19 0h-15.2c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4h15.2c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4z",fill:"#00588d"}))},o=JSON.parse('{"_#":"Wordpress features support","$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"cumulus-gutenberg/family-links","title":"Family Links","description":"Insert links to a page\'s children or siblings","keywords":["cumulus","cmls","family","parent","child","children","siblings"],"icon":"admin-links","category":"cmls","editorScript":"file:./assets/editor.js","style":"file:./assets/editor.css","attributes":{"postType":{"type":"string"},"parentPostId":{"type":"number"},"showCurrentChildren":{"type":"boolean","default":true},"maxDepth":{"type":"integer","default":0},"excludeNoindex":{"type":"boolean","default":true},"excludeAdditionalIDs":{"type":"array","default":[]},"displayType":{"type":"string","enum":["plain","bullets","square","numbered","custom"],"default":"plain"},"customBullet":{"type":"string","default":""},"itemMargin":{"type":"object","default":{"top":null,"right":null,"bottom":null,"left":null}},"childrenMargin":{"type":"object","default":{"top":null,"right":null,"bottom":null,"left":"1em"}},"bulletColor":{"type":"string","default":null},"underlineLinks":{"type":"boolean","default":true},"underlineOnHover":{"type":"boolean","default":true},"linkColor":{"type":"string","default":null},"linkColorHover":{"type":"string","default":null},"textAlign":{"type":"string","default":null},"fontWeight":{"type":"string","default":null},"fontStyle":{"type":"string","default":null},"highlightCurrent":{"type":"boolean","default":true},"currentFontSize":{"type":"string","default":null},"currentFontWeight":{"type":"string","default":"700"},"currentFontStyle":{"type":"string","default":"normal"},"currentUnderlineLinks":{"type":"boolean","default":true},"currentUnderlineOnHover":{"type":"boolean","default":true},"currentLinkColor":{"type":"string","default":null},"currentLinkColorHover":{"type":"string","default":null}},"supports":{"_#":"Allow customizing border","anchor":true,"align":true,"alignWide":true,"className":true,"color":{"background":true,"__experimentalDuotone":false,"gradients":true,"link":false,"text":false},"customClassName":false,"defaultStylePicker":true,"html":false,"inserter":true,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"align":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":{"color":true,"radius":true,"style":true,"width":true,"defaultControls":{"color":true,"radius":true,"style":true,"width":true}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}}}');function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,_x,o,i=[],_n=!0,a=!1;try{if(_x=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;_n=!1}else for(;!(_n=(r=_x.call(n)).done)&&(i.push(r.value),i.length!==t);_n=!0);}catch(e){a=!0,l=e}finally{try{if(!_n&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(a)throw l}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=window.wp.components,s=window.wp.blockEditor,d=window.wp.primitives,p=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"})),f=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"})),m=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"})),g=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M14.7 11.3c1-.6 1.5-1.6 1.5-3 0-2.3-1.3-3.4-4-3.4H7v14h5.8c1.4 0 2.5-.3 3.3-1 .8-.7 1.2-1.7 1.2-2.9.1-1.9-.8-3.1-2.6-3.7zm-5.1-4h2.3c.6 0 1.1.1 1.4.4.3.3.5.7.5 1.2s-.2 1-.5 1.2c-.3.3-.8.4-1.4.4H9.6V7.3zm4.6 9c-.4.3-1 .4-1.7.4H9.6v-3.9h2.9c.7 0 1.3.2 1.7.5.4.3.6.8.6 1.5s-.2 1.2-.6 1.5z"})),h=(0,r.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(d.Path,{d:"M12.5 5L10 19h1.9l2.5-14z"}));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=wp.element,w=(b.useRef,b.useEffect),E=b.useState,C=function(e){var t,l,o,i,a,d=e.attributes,y=e.setAttributes,b=u(E(p),2),C=b[0],P=b[1];w((function(){var e,t={uppercase:f,lowercase:m};P((null==t?void 0:t[null===(e=d.style)||void 0===e||null===(e=e.typography)||void 0===e?void 0:e.textTransform])||p)}),[d.style]);var O=function(){var e,t,n;return(null===(e=d.style)||void 0===e||null===(e=e.typography)||void 0===e?void 0:e.fontWeight)&&((null===(t=d.style)||void 0===t||null===(t=t.typography)||void 0===t||null===(t=t.fontWeight)||void 0===t||null===(t=t.toString())||void 0===t?void 0:t.includes("bold"))||(null===(n=d.style)||void 0===n||null===(n=n.typography)||void 0===n?void 0:n.fontWeight)>500)},x=function(){var e;return"italic"==(null===(e=d.style)||void 0===e||null===(e=e.typography)||void 0===e?void 0:e.fontStyle)},_=function(e,t){var r,l,o=v(v({},null===(r=d.style)||void 0===r?void 0:r.typography),{},n({},e,t));t||null==o||null===(l=o.typography)||void 0===l||delete l[e],y({style:v(v({},d.style),{},{typography:o})})};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.AlignmentToolbar,{value:null===(t=d.style)||void 0===t||null===(t=t.typography)||void 0===t?void 0:t.textAlign,onChange:function(e){return y({textAlign:e})}}),(0,r.createElement)(c.ToolbarGroup,null,(0,r.createElement)(c.ToolbarDropdownMenu,{label:"Letter Case",icon:C,controls:[{title:"Normal",icon:p,isActive:!(null!==(l=d.style)&&void 0!==l&&null!==(l=l.typography)&&void 0!==l&&l.textTransform),onClick:function(){return _("textTransform",null)}},{title:"UPPERCASE",isActive:"uppercase"===(null===(o=d.style)||void 0===o||null===(o=o.typography)||void 0===o?void 0:o.textTransform),icon:f,onClick:function(){return _("textTransform","uppercase")}},{title:"Capitalize",isActive:"capitalize"===(null===(i=d.style)||void 0===i||null===(i=i.typography)||void 0===i?void 0:i.textTransform),icon:p,onClick:function(){return _("textTransform","capitalize")}},{title:"lowercase",isActive:"lowercase"===(null===(a=d.style)||void 0===a||null===(a=a.typography)||void 0===a?void 0:a.textTransform),icon:m,onClick:function(){return _("textTransform","lowercase")}}]})),(0,r.createElement)(c.ToolbarGroup,null,(0,r.createElement)(c.ToolbarButton,{icon:g,label:"Bold",isPressed:O(),onClick:function(){_("fontWeight",O()?null:700)}}),(0,r.createElement)(c.ToolbarButton,{icon:h,label:"Italic",isPressed:x(),onClick:function(){_("fontStyle",x()?null:"italic")}})))};function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=window.wp.data,_=window.wp.htmlEntities,S=window.wp.apiFetch,k=e.n(S),T=window.wp.url,j=function(e){var t=Object.assign({selectedPostType:null,onChange:function(){},filter:!1},e),n=t.selectedPostType,l=t.onChange,o=t.filter,i="undefined"==typeof AbortController?void 0:new AbortController,a=u((0,r.useState)(!1),2),s=a[0],d=a[1],p=u((0,r.useState)(),2),f=p[0],m=p[1];(0,r.useEffect)((function(){return function(){return i.abort()}}),[]);var g=(0,x.useSelect)((function(e){return{currentPostType:e("core/editor").getCurrentPostType()}}),[]).currentPostType;(0,r.useMemo)((function(){d(!1);var e={path:(0,T.addQueryArgs)("/wp/v2/types",{context:"view"}),signal:null==i?void 0:i.signal};return k()(e).then((function(e){return m(e)})),e}),[]);var h=(0,r.useMemo)((function(){var e;if(f){var t,n=Object.values(f);o&&(n=null===(t=n)||void 0===t?void 0:t.filter(o));var r=null===(e=n)||void 0===e?void 0:e.map((function(e){return{id:e.slug,name:(0,_.decodeEntities)(e.name)}}));return d(!0),r}}),[f]);return(0,r.useEffect)((function(){if(null!=h&&h.length&&(1===h.length&&l(h[0].id),!n)){var e=h.find((function(e){return e.id===g}));null!=e&&e.id&&l(e.id)}}),[h]),(0,r.createElement)(r.Fragment,null,s?(0,r.createElement)((function(e){var t=Object.assign({label:"Post Type",style:{lineHeight:1.3}},e),o=function(e){return e.children};if(f&&h){if(1===h.length)return"Post type: ".concat(h[0].name);Object.assign(t,{selectedId:n,onChange:l,tree:h})}else o=c.Disabled,t.noOptionLabel="None available";return(0,r.createElement)(o,null,(0,r.createElement)(c.TreeSelect,t))}),null):(0,r.createElement)(c.Flex,{direction:"row",justify:"left",align:"center"},(0,r.createElement)(c.Spinner,null),"Loading post types…"))};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e){var t,l,o=Object.assign({label:"",help:"",noOptionLabel:null,postType:"page",parentPostId:null,selectedId:null,onChange:function(){},onLoad:function(){},multiple:!1,style:{}},e),i=o.postType,a=o.parentPostId,s=o.selectedId,d=(o.multiple,o.onChange),p=o.onLoad;if(!i)return(0,r.createElement)(r.Fragment,null);var f="undefined"==typeof AbortController?void 0:new AbortController,m=(null==f||null===(t=f.signal)||void 0===t||t.aborted,u((0,r.useState)(!1),2)),g=m[0],h=m[1],y=u((0,r.useState)(),2),v=y[0],b=y[1],w=u((0,r.useState)(),2),E=w[0],C=w[1];(0,r.useEffect)((function(){return function(){return f.abort()}}),[]),(0,r.useMemo)((function(){var e={path:(0,T.addQueryArgs)("/wp/v2/types/".concat(i),{context:"view"}),signal:null==f?void 0:f.signal};return i&&(h(!1),k()(e).then((function(e){e.hierarchical&&b(e)}))),e}),[i]),(0,r.useMemo)((function(){if(v){var e={type:null==v?void 0:v.slug,per_page:-1,_fields:"id,title,parent",context:"view"},t={path:(0,T.addQueryArgs)("/cumulus-gutenberg-family-links/v1/children-of/".concat(a||0),e),signal:null==f?void 0:f.signal};h(!1),k()(t).then((function(e){C(e)}))}}),[v,a]);var P=(0,r.useMemo)((function(){var e;return null!=E&&E.length&&(e=function(e){var t=e.map((function(e){return A({children:[],parent:null},e)})),n=t.reduce((function(e,t){return e[t.parent]||(e[t.parent]=[]),e[t.parent].push(t),e}),{});if(n.null&&n.null.length)return t;var r=function e(t){return t.map((function(t){var r=n[t.id];return A(A({},t),{},{children:r&&r.length?e(r):[]})}))};return n[0]?r(n[0]):Object.values(n).length?r(Object.values(n)[0]):[]}(null==E?void 0:E.map((function(e){var t,n;if(null!=e&&e.id)return{id:e.id,parent:e.parent,name:(t=e,null!=t&&null!==(n=t.title)&&void 0!==n&&n.rendered?(0,_.decodeEntities)(t.title.rendered):"#".concat(t.id," (","n",")"))}})).filter(Boolean)),h(!0)),{childPageOptions:e}}),[E]).childPageOptions;return(0,r.useEffect)((function(){p(P)}),[P]),(0,r.createElement)(r.Fragment,null,g?(0,r.createElement)((function(e){var t,l,i=Object.assign(o.multiple&&null!=P&&P.length?{height:"auto",minHeight:"6em",padding:"8px"}:{},o.style);o.noOptionLabel||"No ".concat((null==v||null===(t=v.labels)||void 0===t?void 0:t.singular_name)||"page"," selected"),o.noOptionLabel;var a=Object.assign(n({label:o.label||"Select a ".concat((null==v||null===(l=v.labels)||void 0===l?void 0:l.singular_name)||"page"),help:null==o?void 0:o.help,className:"editor-page-attributes__parent",style:{lineHeight:1.3},multiple:o.multiple},"style",i),e),u=function(e){return e.children};if(null!=P&&P.length){var p=P;o.multiple||(p=[{id:0,name:"• None Selected"}].concat(O(p))),Object.assign(a,{selectedId:s,tree:p,onChange:d})}else u=c.Disabled,a.noOptionLabel="None available";return(0,r.createElement)(u,null,(0,r.createElement)(c.TreeSelect,a))}),null):(0,r.createElement)(c.Flex,{direction:"row",justify:"left",align:"center",style:o.multiple?{height:"auto",minHeight:"6em",padding:"8px"}:{}},(0,r.createElement)(c.Spinner,null),"Loading ".concat((null==v||null===(l=v.labels)||void 0===l?void 0:l.plural_name)||"pages","…")))},F=function(e){var t=Object.assign({showPostType:!0,onPostTypeChange:function(){},selectedPostType:null,onPostChange:function(){},selectedPostId:null,onPostListLoad:function(){},beginTreeFrom:null},e),n=t.showPostType,l=t.onPostTypeChange,o=t.selectedPostType,i=t.onPostChange,a=t.selectedPostId,u=t.beginTreeFrom,s=t.onPostListLoad;return(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)(c.PanelRow,null,(0,r.createElement)(j,{selectedPostType:o,onChange:l,filter:function(e){return e.hierarchical}})),o&&(0,r.createElement)(c.PanelRow,null,(0,r.createElement)(L,{postType:o,selectedId:a,onChange:i,beginTreeFrom:u,onLoad:s})))};function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var M=window.wp.i18n,z=["onChange","hasFontStyles","hasFontWeights","value"],H=[{name:(0,M._x)("Regular","font style"),value:"normal"},{name:(0,M._x)("Italic","font style"),value:"italic"}],B=[{name:(0,M._x)("Thin","font weight"),value:"100"},{name:(0,M._x)("Extra Light","font weight"),value:"200"},{name:(0,M._x)("Light","font weight"),value:"300"},{name:(0,M._x)("Regular","font weight"),value:"400"},{name:(0,M._x)("Medium","font weight"),value:"500"},{name:(0,M._x)("Semi Bold","font weight"),value:"600"},{name:(0,M._x)("Bold","font weight"),value:"700"},{name:(0,M._x)("Extra Bold","font weight"),value:"800"},{name:(0,M._x)("Black","font weight"),value:"900"}];function N(e){var t=e.onChange,n=e.hasFontStyles,l=void 0===n||n,o=e.hasFontWeights,i=void 0===o||o,a=e.value,u=a.fontStyle,s=a.fontWeight,d=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,z),p=l||i,f=function(e,t){return e?t?(0,M.__)("Appearance"):(0,M.__)("Font style"):(0,M.__)("Font weight")}(l,i),m={key:"default",name:(0,M.__)("Default"),style:{fontStyle:void 0,fontWeight:void 0}},g=(0,r.useMemo)((function(){return l&&i?(e=[m],H.forEach((function(t){var n=t.name,r=t.value;B.forEach((function(t){var l=t.name,o=t.value,i="normal"===r?l:(0,M.sprintf)(/* translators: 1: Font weight name. 2: Font style name. */
(0,M.__)("%1$s %2$s"),l,n);e.push({key:"".concat(r,"-").concat(o),name:i,style:{fontStyle:r,fontWeight:o}})}))})),e):l?function(){var e=[m];return H.forEach((function(t){var n=t.name,r=t.value;e.push({key:r,name:n,style:{fontStyle:r,fontWeight:void 0}})})),e}():function(){var e=[m];return B.forEach((function(t){var n=t.name,r=t.value;e.push({key:r,name:n,style:{fontStyle:void 0,fontWeight:r}})})),e}();var e}),[e.options]),h=g.find((function(e){return e.style.fontStyle===u&&e.style.fontWeight===s}))||g[0];return p&&(0,r.createElement)(c.CustomSelectControl,D({},d,{className:"components-font-appearance-control",label:f,describedBy:h?l?i?(0,M.sprintf)(
// translators: %s: Currently selected font appearance.
(0,M.__)("Currently selected font appearance: %s"),h.name):(0,M.sprintf)(
// translators: %s: Currently selected font style.
(0,M.__)("Currently selected font style: %s"),h.name):(0,M.sprintf)(
// translators: %s: Currently selected font weight.
(0,M.__)("Currently selected font weight: %s"),h.name):(0,M.__)("No selected font appearance"),options:g,value:h,onChange:function(e){var n=e.selectedItem;return t(n.style)},__nextUnconstrainedWidth:!0}))}var V=function(e){var t,n,l,o,i,a=e.settings,u=(t={disableCustomColors:!(0,s.useSetting)("color.custom"),disableCustomGradients:!(0,s.useSetting)("color.customGradient")},n=(0,s.useSetting)("color.palette.custom"),l=(0,s.useSetting)("color.palette.theme"),o=(0,s.useSetting)("color.palette.default"),i=(0,s.useSetting)("color.defaultPalette"),t.__experimentalHasMultipleOrigins=!0,t.colors=(0,r.useMemo)((function(){var e=[];return l&&l.length&&e.push({name:(0,M._x)("Theme","Indicates this palette comes from the theme."),colors:l}),i&&o&&o.length&&e.push({name:(0,M._x)("Default","Indicates this palette comes from WordPress."),colors:o}),n&&n.length&&e.push({name:(0,M._x)("Custom","Indicates this palette comes from the theme."),colors:n}),e}),[o,l,n]),t);return(0,r.createElement)(c.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,className:"block-editor-panel-color-gradient-settings__item-group"},a.map((function(e,t){return e&&(0,r.createElement)(c.Dropdown,{key:t,position:"bottom left",className:"block-editor-panel-color-gradient-settings__dropdown",contentClassName:"block-editor-panel-color-gradient-settings__dropdown-content",renderToggle:function(t){var n,l=t.isOpen,o=t.onToggle;return(0,r.createElement)(c.__experimentalItem,{onClick:o,className:["block-editor-panel-color-gradient-settings__item",l?"is-open":""].filter((function(e){return e}))},(0,r.createElement)(c.__experimentalHStack,{justify:"flex-start"},(0,r.createElement)(c.ColorIndicator,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:null!==(n=e.gradientValue)&&void 0!==n?n:e.colorValue}),(0,r.createElement)(c.FlexItem,null,e.label)))},renderContent:function(){return(0,r.createElement)(s.__experimentalColorGradientControl,D({showTitle:!!e.label,__experimentalIsRenderedInSidebar:!0},u,e))}})})))},W=(0,r.forwardRef)((function(e,t){e.className;var n=e.children;return(0,r.createElement)("div",{className:"components-panel__row",style:{display:"block"},ref:t},n)})),R=window.lodash,U=function e(t,n,r){for(var l in t){var o;return!!n(t[l])||Array.isArray(null===(o=t[l])||void 0===o?void 0:o[r])&&e(t[l][r],n,r)}return!1};function G(){G=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,n=new WeakMap;function r(e,t,l){var o=new RegExp(e,t);return n.set(o,l||n.get(e)),P(o,r.prototype)}function l(e,t){var r=n.get(t);return Object.keys(r).reduce((function(t,n){var l=r[n];if("number"==typeof l)t[n]=e[l];else{for(var o=0;void 0===e[l[o]]&&o+1<l.length;)o++;t[n]=e[l[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(r,RegExp),r.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=l(n,this);var r=n.indices;r&&(r.groups=l(r,this))}return n},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=n.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){var n=i[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=t(e[e.length-1])&&(e=[].slice.call(e)).push(l(e,a)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},G.apply(this,arguments)}var Q=function(e){var t,n,l,i,a,u,d,p,f,m,g=e.attributes,h=e.setAttributes,y=(0,x.useSelect)((function(e){return{currentPostId:e("core/editor").getCurrentPostId(),parentPostId:e("core/editor").getEditedPostAttribute("parent")}})),v=y.currentPostId,b=y.parentPostId,w=function(e){if(o.attributes.hasOwnProperty(e)&&o.attributes[e].hasOwnProperty("default"))return o.attributes[e].default},E=function(e){return!(e=Array.isArray(e)?e:[e]).some((function(e){return!(0,R.isEqual)(g[e],w(e))}))},C=function(e){e=Array.isArray(e)?e:[e];var t={};e.forEach((function(e){t[e]=w(e)})),h(t)};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.__experimentalToolsPanel,{label:"Query",resetAll:function(e){e.forEach((function(e){return e()}))}},(0,r.createElement)(c.__experimentalToolsPanelItem,{hasValue:function(){return!0},label:"Parent Context",isShownByDefault:!0},(0,r.createElement)(F,{selectedPostType:g.postType,onPostTypeChange:function(e){h({postType:e})},selectedPostId:g.parentPostId,onPostChange:function(e){h({parentPostId:parseInt(e)})},onPostListLoad:function(e){null!=e&&e.length&&b&&void 0===g.parentPostId&&U(e,(function(e){return(null==e?void 0:e.id)===b}),"children")&&(console.debug("Setting parent",b,g.parentPostId),h({parentPostId:b}))}}),g.parentPostId!==v&&(0,r.createElement)(W,null,(0,r.createElement)(c.Flex,{direction:"column"},(0,r.createElement)("p",null,"If the ",(0,r.createElement)("strong",null,"current page")," is in the parent context's hierarchy:"),(0,r.createElement)(c.ToggleControl,{label:"Include This Page's Children",checked:g.showCurrentChildren,onChange:function(e){return h({showCurrentChildren:e})}})))),null!==g.parentPostId&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.__experimentalToolsPanelItem,{label:"Max Depth",hasValue:function(){return!E("maxDepth")},resetAllFilter:function(){return C(["maxDepth"])},isShownByDefault:!0},(0,r.createElement)(c.RangeControl,{label:"Maximum depth of children to display",allowReset:!0,resetFallbackValue:0,step:1,type:"stepper",withInputField:!1,marks:[{value:0,label:"All"}].concat(O([1,2,3,4,5,6].map((function(e){return{value:e,label:e}})))),value:g.maxDepth,onChange:function(e){return h({maxDepth:e})},min:0,max:6})),(0,r.createElement)(c.__experimentalToolsPanelItem,{label:"Exclusions",hasValue:function(){return!E("excludeAdditionalIDs")},resetAllFilter:function(){return C(["excludeAdditionalIDs","excludeNoIndex"])},isShownByDefault:!0},(0,r.createElement)(L,{label:"Exclude Specific Child Pages",help:"Select multiple or deselect an item by holding\n\t\t\t\t\t\t\t\t\t\t\t\t".concat(0==((null===(t=navigator)||void 0===t||null===(t=t.userAgentData)||void 0===t?void 0:t.platform)||(null===(n=navigator)||void 0===n?void 0:n.platform)||"unknown").toUpperCase().indexOf("MAC")?"Command (⌘)":"Control","\n\t\t\t\t\t\t\t\t\t\t\t\twhile clicking."),noOptionLabel:!1,multiple:!0,postType:g.postType,parentPostId:g.parentPostId,selectedId:g.excludeAdditionalIDs,onChange:function(e){return h({excludeAdditionalIDs:e})}}),g.excludeAdditionalIDs.length>0&&(0,r.createElement)(c.TextControl,{label:"Raw excluded page IDs",value:g.excludeAdditionalIDs.join(","),onChange:function(e){var t,n,r=e.match(G(/(\d+)/,{id:1}));null!=r&&null!==(t=r.groups)&&void 0!==t&&t.id&&null!=r&&null!==(n=r.groups)&&void 0!==n&&null!==(n=n.id)&&void 0!==n&&n.length?h({excludeAdditionalIDs:r.groups.id}):h({excludeAdditionalIDs:[]})}}),(0,r.createElement)(c.ToggleControl,{label:"Automatically exclude pages marked 'noindex' in popular SEO plugins.",checked:g.excludeNoindex,onChange:function(e){return h({excludeNoindex:e})}})))),(0,r.createElement)(c.__experimentalToolsPanel,{label:"List Style",resetAll:function(e){return e.forEach((function(e){return e()}))}},(0,r.createElement)(c.__experimentalToolsPanelItem,{label:"List Type",isShownByDefault:!0,hasValue:function(){return!E("displayType")},resetAllFilter:function(){return C(["displayType"])}},(0,r.createElement)(c.SelectControl,{label:"Display Type",labelPosition:"side",value:g.displayType,onChange:function(e){return h({displayType:e})},options:o.attributes.displayType.enum.map((function(e){return{value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}}))})),"plain"!==g.displayType&&(0,r.createElement)(c.__experimentalToolsPanelItem,{isShownByDefault:!0,label:"Bullet Style",hasValue:function(){return!E(["customBullet","bulletColor"])},resetAllFilter:function(){return C(["customBullet","bulletColor"])}},"custom"==g.displayType&&(0,r.createElement)(W,null,(0,r.createElement)(c.TextControl,{label:"Custom Bullet",value:g.customBullet,style:{width:"10ch"},onChange:function(e){return h({customBullet:e.substring(0,1)})}})),(0,r.createElement)(W,null,(0,r.createElement)(V,{settings:[{label:"Bullet Color",colorValue:g.bulletColor,onColorChange:function(e){return h({bulletColor:e})}}]}))),(0,r.createElement)(c.__experimentalToolsPanelItem,{label:"Item Margins",hasValue:function(){return!E(["itemMargin","childrenMargin"])},resetAllFilter:function(){return C(["itemMargin","childrenMargin"])}},(0,r.createElement)(W,null,(0,r.createElement)(c.__experimentalBoxControl,{label:"Item Margin",values:{top:null===(l=g.itemMargin)||void 0===l?void 0:l.top,right:null===(i=g.itemMargin)||void 0===i?void 0:i.right,bottom:null===(a=g.itemMargin)||void 0===a?void 0:a.bottom,left:null===(u=g.itemMargin)||void 0===u?void 0:u.left},onChange:function(e){return h({itemMargin:e})}})),(0,r.createElement)(W,null,(0,r.createElement)(c.__experimentalBoxControl,{label:"Children Container Margin",values:{top:null===(d=g.childrenMargin)||void 0===d?void 0:d.top,right:null===(p=g.childrenMargin)||void 0===p?void 0:p.right,bottom:null===(f=g.childrenMargin)||void 0===f?void 0:f.bottom,left:null===(m=g.childrenMargin)||void 0===m?void 0:m.left},onChange:function(e){return h({childrenMargin:e})}})))),(0,r.createElement)(c.__experimentalToolsPanel,{label:"Link Styles",resetAll:function(e){return e.forEach((function(e){return e()}))}},(0,r.createElement)(c.__experimentalToolsPanelItem,{label:"All Links",hasValue:function(){return!E(["linkColor","linkColorHover","underlineLinks","underlineOnHover"])},resetAllFilter:function(){return C(["linkColor","linkColorHover","underlineLinks","underlineOnHover"])}},(0,r.createElement)(W,null,(0,r.createElement)(c.ToggleControl,{label:"Underline Links",checked:g.underlineLinks,onChange:function(e){return h({underlineLinks:e})}})),(0,r.createElement)(W,null,(0,r.createElement)(c.ToggleControl,{label:"Underline Links on Hover",checked:g.underlineOnHover,onChange:function(e){return h({underlineOnHover:e})}})),(0,r.createElement)(W,null,(0,r.createElement)(V,{settings:[{label:"Link Color",colorValue:g.linkColor,onColorChange:function(e){return h({linkColor:e})}},{label:"Hover Color",colorValue:g.linkColorHover,onColorChange:function(e){return h({linkColorHover:e})}}]}))),(0,r.createElement)(c.__experimentalToolsPanelItem,{label:"Current Page",hasValue:function(){return!E(["highlightCurrent","currentFontSize","currentFontWeight","currentFontStyle","currentLinkColor","currentUnderlineLinks","currentLinkColorHover","currentUnderlineOnHover"])},resetAllFilter:function(){return C(["highlightCurrent","currentFontSize","currentFontWeight","currentFontStyle","currentLinkColor","currentUnderlineLinks","currentLinkColorHover","currentUnderlineOnHover"])}},(0,r.createElement)("h3",null,"Current Page Highlight"),(0,r.createElement)(c.ToggleControl,{label:"Highlight Current Page",checked:g.highlightCurrent,onChange:function(e){return h({highlightCurrent:e})}}),g.highlightCurrent&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(W,null,(0,r.createElement)(s.FontSizePicker,{label:"Current Page Font Size",value:g.currentFontSize,onChange:function(e){return h({currentFontSize:e})}})),(0,r.createElement)(W,null,(0,r.createElement)(N,{value:{fontStyle:g.currentFontStyle,fontWeight:g.currentFontWeight},onChange:function(e){return h({currentFontStyle:e.fontStyle,currentFontWeight:e.fontWeight})}})),(0,r.createElement)(W,null,(0,r.createElement)(c.ToggleControl,{label:"Underline Current Page Link",checked:g.currentUnderlineLinks,onChange:function(e){return h({currentUnderlineLinks:e})}})),(0,r.createElement)(W,null,(0,r.createElement)(c.ToggleControl,{label:"Underline Current Page Link on Hover",checked:g.currentUnderlineOnHover,onChange:function(e){return h({currentUnderlineOnHover:e})}})),(0,r.createElement)(W,null,(0,r.createElement)(V,{settings:[{label:"Link Color",colorValue:g.currentLinkColor,onColorChange:function(e){return h({currentLinkColor:e})}},{label:"Hover Color",colorValue:g.currentLinkColorHover,onColorChange:function(e){return h({currentLinkColorHover:e})}}]}))))))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=wp.compose,K=J.useDebounce,X=J.usePrevious,Y=wp.element,Z=Y.RawHTML,ee=Y.useEffect,te=Y.useRef,ne=Y.useState,re=Y.useCallback,le=wp.i18n,__=le.__,oe=le.sprintf,ie=wp.apiFetch,ae=wp.url.addQueryArgs,ue=wp.components,ce=ue.Placeholder,se=ue.Spinner,de=wp.blocks.getBlockType;function pe(e){var t=e.className;return(0,r.createElement)(ce,{className:t},__("Block rendered as empty."))}function fe(e){var t=e.response,n=e.className,l=oe(
// translators: %s: error message describing the problem
__("Error loading block: %s"),t.errorMsg);return(0,r.createElement)(ce,{className:n},l)}function me(e){var t=e.attributes,n=e.block,l=e.className,o=e.httpMethod,i=void 0===o?"GET":o,a=e.urlQueryArgs,c=e.onChange,s=e.onError,d=e.EmptyResponsePlaceholder,p=void 0===d?pe:d,f=e.ErrorResponsePlaceholder,m=void 0===f?fe:f,g=te(!0),h=te(),y=u(ne(null),2),v=y[0],b=y[1],w=u(ne(null),2),E=w[0],C=w[1],P=u(ne(!1),2),O=P[0],x=P[1],_=X(e),S=re((function(){if(g.current){null!==v&&(C(v),b(null));var e=t&&function(e,t){var n=de(e);if(void 0===n)throw new Error("Block type '".concat(e,"' is not registered."));return Object.entries(n.attributes).reduce((function(e,n){var r=u(n,2),l=r[0],o=r[1],i=t[l];return void 0!==i?e[l]=i:o.hasOwnProperty("default")&&(e[l]=o.default),-1!==["node","children"].indexOf(o.soource)&&("string"==typeof e[l]?e[l]=[e[l]]:Array.isArray(e[l])||(e[l]=[])),e}),{})}(n,t),r="POST"===i,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ae("/wp/v2/block-renderer/".concat(e),q(q({context:"edit"},null!==t?{attributes:t}:{}),n))}(n,r?null:null!=e?e:null,a),o=r?{attributes:null!=e?e:null}:null,d=function(e){return g.current&&e===h.current};return x(!0),h.current=ie({path:l,data:o,method:r?"POST":"GET"}).then((function(e){d&&e&&b(e.rendered)})).then((function(){c&&c()})).finally((function(){x(!1)})).catch((function(e){d&&(b({error:!0,errorMsg:e.message}),s&&s(e))}))}})),k=K(S,100,{leading:!0,trailing:!0});ee((function(){return function(){g.current=!1}}),[]),ee((function(){void 0===_?S():(0,R.isEqual)(_.attributes,e.attributes)||k()}),[e.attributes]);var T=e.LoadingResponsePlaceholder?e.LoadingResponsePlaceholder:(0,r.createElement)(se,null);return""===v?(0,r.createElement)(p,e):!v||O?E?(0,r.createElement)("div",{style:{position:"relative"}},(0,r.createElement)("div",{style:{position:"absolute",top:0,right:0}},(0,r.createElement)(se,null)),(0,r.createElement)(Z,{className:l},E)):(0,r.createElement)(T,null):v.error?(0,r.createElement)(m,D({response:v},e)):(0,r.createElement)(Z,{className:l},v)}var ge=function(){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Spinner,null),(0,r.createElement)("small",null,"Loading Family…"))};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,window.wp.blocks.registerBlockType)(o.name,ye(ye({},o),{},{icon:l,edit:function(e){var t=(0,s.useBlockProps)(),n=e.attributes,l=(0,x.useSelect)((function(e){return{currentPostId:e("core/editor").getCurrentPostId(),parentPostId:e("core/editor").getEditedPostAttribute("parent")}})),i=l.currentPostId,a=l.parentPostId;return(0,r.createElement)("div",t,(0,r.createElement)(s.BlockControls,null,(0,r.createElement)(C,e)),(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(Q,e)),null===n.parentPostId?(0,r.createElement)(ge,null):(0,r.createElement)(me,{block:o.name,attributes:n,urlQueryArgs:{"attributes[parentPostId]":void 0!==n.parentPostId?n.parentPostId:a,post_id:i},LoadingResponsePlaceholder:ge}))}}))}();