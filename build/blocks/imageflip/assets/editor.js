!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,r,n){return o=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),(r="symbol"==t(o)?o:o+"")in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e;var o}var n=window.React,o=window.lodash;function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=[{value:"px",label:"px",default:0},{value:"%",label:"%",default:0},{value:"em",label:"em",default:0},{value:"rem",label:"rem",default:0}],c=function(e){return e&&(e.top||e.right||e.bottom||e.left||e.topLeft||e.topRight||e.bottomRight||e.bottomLeft)},s=function(e){if(e){var t=Object.values(e);return t.every((function(e){return e===t[0]}))}return!1},u=function(e){var t={};if(e.backgroundSizing&&(t.backgroundSize="percent"===e.backgroundSizing?"".concat(e.backgroundSizingPercent,"%"):e.backgroundSizing),e.backgroundPosition&&(t.backgroundPosition="".concat(100*e.backgroundPosition.x,"% ").concat(100*e.backgroundPosition.y,"%")),e.backgroundImage&&(t.backgroundImage='url("'.concat(e.backgroundImage,'")')),c(e.padding)&&(s(e.padding)?t.padding=e.padding.top:t=a(a({},t),{},{paddingTop:e.padding.top,paddingRight:e.padding.right,paddingBottom:e.padding.bottom,paddingLeft:e.padding.left})),c(e.borderWidth)&&(s(e.borderWidth)?t.borderWidth=e.borderWidth.top:t=a(a({},t),{},{borderTopWidth:e.borderWidth.top,borderRightWidth:e.borderWidth.right,borderBottomWidth:e.borderWidth.bottom,borderLeftWidth:e.borderWidth.left})),e.borderColor&&(t.borderColor=e.borderColor),e.shadowColor||e.shadowOffsetX||e.shadowOffsetY||e.shadowRadius){var r=[e.shadowOffsetX||0,e.shadowOffsetY||0,e.shadowRadius||0,e.shadowColor||"transparent"];t.boxShadow=r.join(" ")}return c(e.borderRadius)&&(s(e.borderRadius)?t.borderRadius=e.borderRadius.topLeft:t=a(a({},t),{},{borderTopLeftRadius:e.borderRadius.topLeft,borderTopRightRadius:e.borderRadius.topRight,borderBottomRightRadius:e.borderRadius.bottomRight,borderBottomLeftRadius:e.borderRadius.bottomLeft})),a(a({},e.style),t)},d=JSON.parse('{"_#":"Wordpress features support","$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"cumulus-gutenberg/imageflip","title":"Flip Card","description":"3D flipping card block.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-gallery","category":"cmls","editorScript":"file:./assets/editor.js","viewScript":"file:./assets/frontend.js","editorStyle":"file:./assets/editor.css","viewStyle":"file:./assets/frontend.css","attributes":{"linkUrl":{"type":"string"},"linkTarget":{"type":"string"},"linkRel":{"type":"string"},"flipDirection":{"type":"string","default":"horizontal"},"zoomOnHover":{"type":"boolean","default":true},"childBorderRadius":{"type":"object","default":{"topLeft":"0.6em","topRight":"0.6em","bottomRight":"0.6em","bottomLeft":"0.6em"}}},"providesContext":{"cumulus-flipcard/borderRadius":"childBorderRadius"},"supports":{"_#":"Allow customizing border","anchor":true,"align":true,"alignWide":false,"className":true,"color":{"background":false,"__experimentalDuotone":false,"gradients":false,"link":false,"text":false},"customClassName":true,"defaultStylePicker":true,"html":false,"inserter":true,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"align":false,"fontSize":false,"lineHeight":false,"fontWeight":false,"fontStyle":false,"textTransform":false,"__experimentalFontWeight":false,"__experimentalFontStyle":false,"__experimentalTextTransform":false},"border":{"color":false,"radius":true,"style":false,"width":false,"defaultControls":{"color":false,"radius":true,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":true,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":true,"style":false,"width":false}}}}'),f=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"name":"cumulus-gutenberg/imageflip-face","title":"Flip Card Face","description":"Face container for Flip Card blocks.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-image","category":"cmls","parent":["cumulus-gutenberg/imageflip"],"usesContext":["cumulus-flipcard/borderRadius"],"attributes":{"face":{"type":"string"},"style":{"type":"object","default":{"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundPosition":"50% 50%"}},"padding":{"type":"object","default":{"top":null,"right":null,"bottom":null,"left":null}},"borderColor":{"type":"string"},"borderWidth":{"type":"object"},"backgroundImage":{"type":"string"},"backgroundSizing":{"type":"string","default":"cover"},"backgroundSizingPercent":{"type":"number","default":100},"backgroundPosition":{"type":"object","default":{"x":0.5,"y":0.5}},"contentPosition":{"type":"string","default":"center center"},"borderRadius":{"type":"object","default":{"top":"0.6em","right":"0.6em","bottom":"0.6em","left":"0.6em"}},"shadowOffsetX":{"type":"string"},"shadowOffsetY":{"type":"string"},"shadowRadius":{"type":"string","default":"0.6em"},"shadowColor":{"type":"string","default":"rgba(0, 0, 0, 0.25)"}},"supports":{"_#":"Allow customizing border","anchor":false,"align":false,"alignWide":false,"className":true,"color":{"background":true,"__experimentalDuotone":true,"gradients":true,"link":false,"text":true},"customClassName":false,"defaultStylePicker":false,"html":false,"inserter":false,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":{"color":false,"radius":false,"style":false,"width":false,"defaultControls":{"color":false,"radius":false,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":false,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}}}');function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=wp.blocks.registerBlockType,b=wp.components,h=b.PanelBody,y=b.PanelRow,k=b.ToolbarGroup,v=b.ToolbarItem,w=b.Flex,E=b.Button,O=b.SelectControl,C=b.FocalPointPicker,R=b.RangeControl,P=b.__experimentalBoxControl,S=b.__experimentalUnitControl,B=b.ColorPicker,j=wp.blockEditor,x=j.InspectorControls,z=j.BlockControls,T=j.__experimentalBlockAlignmentMatrixControl,_=j.InnerBlocks,I=j.useBlockProps,D=j.useInnerBlocksProps,L=j.MediaUpload,W=j.MediaUploadCheck,N=j.ColorPaletteControl,F=(wp.element.useState,wp.compose.withState,{"top left":"is-position-top-left","top center":"is-position-top-center","top right":"is-position-top-right","center left":"is-position-center-left","center center":"is-position-center-center",center:"is-position-center-center","center right":"is-position-center-right","bottom left":"is-position-bottom-left","bottom center":"is-position-bottom-center","bottom right":"is-position-bottom-right"}),U=function(e){return e&&"center"!==e&&"center center"!==e?F[e]:""};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}g(f.name,m(m({},f),{},{icon:{src:"format-gallery",foreground:"#3399cc"},edit:function(e){var t=e.attributes,r=e.context,l=e.setAttributes;(0,o.isEqual)(r["cumulus-flipcard/borderRadius"],t.borderRadius)||l({borderRadius:r["cumulus-flipcard/borderRadius"]});var a=U(t.contentPosition),s=["crsg-flipcard-face-container","crsg-flipcard-face-".concat(t.face)];a&&s.push(["has-custom-content-position",a]);var d=I({className:s,style:u(t)}),f=D({className:"crsg-flipcard-face"},{renderAppender:_.ButtonBlockAppender,templateLock:!1}),p=function(e){var r=m(m({},t.style),e);l({style:r})};return(0,n.createElement)("div",m({},d),(0,n.createElement)(z,{group:"block"},(0,n.createElement)(k,null,(0,n.createElement)(T,{label:"Set content container alignment",value:t.contentPosition,onChange:function(e){return l({contentPosition:e})}})),(0,n.createElement)(k,null,(0,n.createElement)(v,{as:w,style:{paddingLeft:"1em",paddingRight:"1em"}},t.face.toUpperCase()))),(0,n.createElement)(x,null,(0,n.createElement)(h,{title:"Background Image",initialOpen:t.backgroundImage},(0,n.createElement)(y,null,(0,n.createElement)(W,null,(0,n.createElement)(L,{label:"Background Image",type:"image",value:t.backgroundImage,render:function(e){var r=e.open;return(0,n.createElement)(w,{style:{gap:"5px",justifyContent:"flex-start",marginBottom:"5px"}},(0,n.createElement)(E,{className:"button button-large",onClick:r},t.backgroundImage?"Replace Image":"Choose Image"),t.backgroundImage&&(0,n.createElement)(E,{className:"button button-large",onClick:function(){l({backgroundImage:void 0,backgroundImageThumb:void 0})}},"Remove"))},onSelect:function(e){l({backgroundImage:e.sizes.full.url,backgroundImageThumb:e.sizes.thumbnail.url})}}))),t.backgroundImage&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(C,{url:t.backgroundImage,value:t.backgroundPosition,onChange:function(e){l({backgroundPosition:e})}}),(0,n.createElement)(O,{label:"Repeat",value:t.style.backgroundRepeat,options:[{label:"None",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Horizontal Only",value:"repeat-x"},{label:"Vertical Only",value:"repeat-y"}],onChange:function(e){return p({backgroundRepeat:e})}}),(0,n.createElement)(O,{label:"Sizing Method",value:t.backgroundSizing,options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Percent",value:"percent"}],onChange:function(e){l({backgroundSizing:e})}})),"percent"===t.backgroundSizing&&(0,n.createElement)(y,null,(0,n.createElement)(R,{label:"Percentage Sizing",value:t.backgroundSizingPercent,initialPosition:t.backgroundSizingPercent,resetFallbackValue:100,onChange:function(e){l({backgroundSizingPercent:e}),p(u(t))},min:0,max:200}))),(0,n.createElement)(h,{title:"Padding",initialOpen:c(t.padding)},(0,n.createElement)(P,{values:t.padding,onChange:function(e){var r=m(m({},t.padding),{},{top:e.top,right:e.right,bottom:e.bottom,left:e.left});l({padding:r})}})),(0,n.createElement)(h,{title:"Border",initialOpen:c(t.borderWidth)},(0,n.createElement)(P,{label:"Border width",values:t.borderWidth,onChange:function(e){var r=m(m({},t.borderWidth),{},{top:e.top,right:e.right,bottom:e.bottom,left:e.left});l({borderWidth:r})}}),(0,n.createElement)(N,{label:"Border color",value:t.borderColor,onChange:function(e){return l({borderColor:e})}}),(0,n.createElement)("div",null,(0,n.createElement)("strong",null,"Note:"),"Border radius for the entire card is set from the parent card container.")),(0,n.createElement)(h,{title:"Shadow",initialOpen:t.shadowColor},(0,n.createElement)(y,{title:"Shadow"},(0,n.createElement)(w,null,(0,n.createElement)(S,{label:"Offset X",size:"small",units:i,value:t.shadowOffsetX,onChange:function(e){return l({shadowOffsetX:e})}}),(0,n.createElement)(S,{label:"Offset Y",size:"small",units:i,value:t.shadowOffsetY,onChange:function(e){return l({shadowOffsetY:e})}}),(0,n.createElement)(S,{label:"Radius",size:"small",units:i,value:t.shadowRadius,onChange:function(e){return l({shadowRadius:e})}}))),(0,n.createElement)(y,null,(0,n.createElement)(B,{label:"Shadow color",color:t.shadowColor,onChangeComplete:function(e){l({shadowColor:e.color.toRgbString()})}})))),(0,n.createElement)("div",m({},f),f.children))},save:function(e){var t=e.attributes,r=U(t.contentPosition),o=["crsg-flipcard-face-container","crsg-flipcard-face-".concat(t.face)];r&&o.push(["has-custom-content-position",r]);var l=I.save({className:o.join(" "),style:u(t)});return(0,n.createElement)("div",m({},l),(0,n.createElement)("div",{className:"crsg-flipcard-face"},(0,n.createElement)(_.Content,null)))}}));var V=wp.blocks.registerBlockType,M=wp.components,X=M.Panel,Y=M.PanelBody,G=M.PanelRow,q=M.ToolbarGroup,J=M.ToolbarItem,$=M.DropdownMenu,K=M.TextControl,Z=M.ToggleControl,Q=M.SelectControl,ee=M.Button,te=M.IconButton,re=M.__experimentalUnitControl,ne=M.Flex,oe=wp.blockEditor,le=oe.InspectorControls,ae=oe.BlockControls,ie=oe.InnerBlocks,ce=oe.useBlockProps,se=oe.useInnerBlocksProps,ue=oe.__experimentalLinkControl,de=wp.element.useState;V(d.name,H(H({},d),{},{icon:{src:"format-gallery",foreground:"#3399cc"},edit:function(t){var r,l,a=(r=de(!0),l=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,a,i=[],c=!0,s=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return i}}(r,l)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(r,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],s=a[1],u=t.attributes,f=t.setAttributes,p=(t.setState,["crsg-flipcard","crsg-flipcard-".concat(u.flipDirection),"show-face-".concat(c?"front":"back")]),m=ce({className:p}),g=se({className:"crsg-flipcard-container",title:"CardFlip Container"},{template:[["cumulus-gutenberg/imageflip-face",{face:"front"},[]],["cumulus-gutenberg/imageflip-face",{face:"back"},[]]],templateLock:"insert"});return(0,n.createElement)("div",H({},m),(0,n.createElement)(ae,{group:"block"},(0,n.createElement)(q,null,(0,n.createElement)(J,null,(function(e){return(0,n.createElement)($,{toggleProps:e,icon:"image-flip-".concat(u.flipDirection),label:"Change flip direction",text:u.flipDirection.charAt(0).toUpperCase()+u.flipDirection.slice(1),controls:[{icon:"image-flip-horizontal",title:"Horizontal",isActive:"horizontal"===u.flipDirection,onClick:function(){return f({flipDirection:"horizontal"})}},{icon:"image-flip-vertical",title:"Vertical",isActive:"vertical"===u.flipDirection,onClick:function(){return f({flipDirection:"vertical"})}}]})}))),(0,n.createElement)(q,null,(0,n.createElement)(J,{as:te,icon:"randomize",title:"Flip the card face",onClick:function(){return s(!c)}},"Viewing: ",c?"FRONT":"BACK"))),(0,n.createElement)(le,null,(0,n.createElement)(X,null,(0,n.createElement)(Y,{title:"Link"},(0,n.createElement)(ue,{label:"Link the card",value:{url:u.linkUrl,opensInNewTab:"_blank"===u.linkTarget},onChange:function(e){e||(e=void 0);var t={linkUrl:e.url,linkTitle:e.title===e.url?u.linkTitle:e.title,linkTarget:e.opensInNewTab?"_blank":void 0,linkRel:e.opensInNewTab?"noopener":void 0};f(t)}}),(0,n.createElement)(K,{label:"Link Title",value:u.linkTitle||void 0,onChange:function(e){f({linkTitle:e})}}),u.linkUrl&&(0,n.createElement)(ee,{className:"button button-large",onClick:function(){f({linkUrl:d.attributes.linkUrl.default,linkTarget:d.attributes.linkTarget.default,linkTitle:d.attributes.linkTitle.default,linkRel:d.attributes.linkRel.default})}},"Unlink Card")),(0,n.createElement)(Y,{title:"Flip Effect",initialOpen:!1},(0,n.createElement)(Q,{label:"Direction",value:u.flipDirection,onChange:function(e){return f({flipDirection:e})},options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}]}),(0,n.createElement)(Z,{label:"Zoom",checked:u.zoomOnHover,onChange:function(e){f({zoomOnHover:e})}})),(0,n.createElement)(Y,{title:"Border Radius",initialOpen:!(0,o.isEqual)(u.childBorderRadius,d.attributes.childBorderRadius.default)},(0,n.createElement)(G,null,(0,n.createElement)(ne,null,(0,n.createElement)(re,{label:"TL ┏",size:"small",units:i,value:u.childBorderRadius.topLeft,onChange:function(e){var t=H(H({},u.childBorderRadius),{},{topLeft:e});f({childBorderRadius:t})}}),(0,n.createElement)(re,{label:"TR ┓",size:"small",units:i,value:u.childBorderRadius.topRight,onChange:function(e){var t=H(H({},u.childBorderRadius),{},{topRight:e});f({childBorderRadius:t})}}),(0,n.createElement)(re,{label:"BR ┛",size:"small",units:i,value:u.childBorderRadius.bottomRight,onChange:function(e){var t=H(H({},u.childBorderRadius),{},{bottomRight:e});f({childBorderRadius:t})}}),(0,n.createElement)(re,{label:"BL ┗",size:"small",units:i,value:u.childBorderRadius.bottomLeft,onChange:function(e){var t=H(H({},u.childBorderRadius),{},{bottomLeft:e});f({childBorderRadius:t})}}))),(0,n.createElement)(G,null,!(0,o.isEqual)(u.childBorderRadius,d.attributes.childBorderRadius.default)&&(0,n.createElement)(ee,{className:"button button-small",onClick:function(){f({childBorderRadius:d.attributes.childBorderRadius.default})}},"Reset"))))),(0,n.createElement)("div",H({},g),g.children))},save:function(e){var t=e.attributes,r=["crsg-flipcard","crsg-flipcard-".concat(t.flipDirection)];t.zoomOnHover&&r.push("has-zoom-on-hover");var o={};t.linkUrl&&(o={href:t.linkUrl,target:t.linkTarget,title:t.linkTitle,rel:t.linkRel});var l=ce.save(H({className:r.join(" ")},o));return(0,n.createElement)((function(e){return e.isLink?(0,n.createElement)("a",H({},e),e.children):(0,n.createElement)("div",H({},e),e.children)}),H({isLink:t.linkUrl&&t.linkUrl.length>0},l),(0,n.createElement)("div",{className:"crsg-flipcard-container"},(0,n.createElement)(ie.Content,null)))}}))}();