!function(){"use strict";var e=window.lodash;const t=[{value:"px",label:"px",default:0},{value:"%",label:"%",default:0},{value:"em",label:"em",default:0},{value:"rem",label:"rem",default:0}],o=e=>e&&(e.top||e.right||e.bottom||e.left||e.topLeft||e.topRight||e.bottomRight||e.bottomLeft),r=e=>{if(e){const t=Object.values(e);return t.every(e=>e===t[0])}return!1},i=e=>{let t={};if(e.backgroundSizing&&(t.backgroundSize="percent"===e.backgroundSizing?`${e.backgroundSizingPercent}%`:e.backgroundSizing),e.backgroundPosition&&(t.backgroundPosition=`${100*e.backgroundPosition.x}% ${100*e.backgroundPosition.y}%`),e.backgroundImage&&(t.backgroundImage=`url("${e.backgroundImage}")`),o(e.padding)&&(r(e.padding)?t.padding=e.padding.top:t={...t,paddingTop:e.padding.top,paddingRight:e.padding.right,paddingBottom:e.padding.bottom,paddingLeft:e.padding.left}),o(e.borderWidth)&&(r(e.borderWidth)?t.borderWidth=e.borderWidth.top:t={...t,borderTopWidth:e.borderWidth.top,borderRightWidth:e.borderWidth.right,borderBottomWidth:e.borderWidth.bottom,borderLeftWidth:e.borderWidth.left}),e.borderColor&&(t.borderColor=e.borderColor),e.shadowColor||e.shadowOffsetX||e.shadowOffsetY||e.shadowRadius){const o=[e.shadowOffsetX||0,e.shadowOffsetY||0,e.shadowRadius||0,e.shadowColor||"transparent"];t.boxShadow=o.join(" ")}return o(e.borderRadius)&&(r(e.borderRadius)?t.borderRadius=e.borderRadius.topLeft:t={...t,borderTopLeftRadius:e.borderRadius.topLeft,borderTopRightRadius:e.borderRadius.topRight,borderBottomRightRadius:e.borderRadius.bottomRight,borderBottomLeftRadius:e.borderRadius.bottomLeft}),{...e.style,...t}};var l=JSON.parse('{"_#":"Wordpress features support","$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"cumulus-gutenberg/imageflip","title":"Flip Card","description":"3D flipping card block.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-gallery","category":"cmls","editorScript":"file:./assets/editor.js","viewScript":"file:./assets/frontend.js","editorStyle":"file:./assets/editor.css","viewStyle":"file:./assets/frontend.css","attributes":{"linkUrl":{"type":"string"},"linkTarget":{"type":"string"},"linkRel":{"type":"string"},"flipDirection":{"type":"string","default":"horizontal"},"zoomOnHover":{"type":"boolean","default":true},"childBorderRadius":{"type":"object","default":{"topLeft":"0.6em","topRight":"0.6em","bottomRight":"0.6em","bottomLeft":"0.6em"}}},"providesContext":{"cumulus-flipcard/borderRadius":"childBorderRadius"},"supports":{"_#":"Allow customizing border","anchor":true,"align":true,"alignWide":false,"className":true,"color":{"background":false,"gradients":false,"link":false,"text":false},"customClassName":true,"defaultStylePicker":true,"filter":{"duotone":false},"html":false,"inserter":true,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"align":false,"fontSize":false,"lineHeight":false,"fontWeight":false,"fontStyle":false,"textTransform":false,"__experimentalFontWeight":false,"__experimentalFontStyle":false,"__experimentalTextTransform":false},"border":{"color":false,"radius":true,"style":false,"width":false,"defaultControls":{"color":false,"radius":true,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":true,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":true,"style":false,"width":false}}}}'),a=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"name":"cumulus-gutenberg/imageflip-face","title":"Flip Card Face","description":"Face container for Flip Card blocks.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-image","category":"cmls","parent":["cumulus-gutenberg/imageflip"],"usesContext":["cumulus-flipcard/borderRadius"],"attributes":{"face":{"type":"string"},"style":{"type":"object","default":{"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundPosition":"50% 50%"}},"padding":{"type":"object","default":{"top":null,"right":null,"bottom":null,"left":null}},"borderColor":{"type":"string"},"borderWidth":{"type":"object"},"backgroundImage":{"type":"string"},"backgroundSizing":{"type":"string","default":"cover"},"backgroundSizingPercent":{"type":"number","default":100},"backgroundPosition":{"type":"object","default":{"x":0.5,"y":0.5}},"contentPosition":{"type":"string","default":"center center"},"borderRadius":{"type":"object","default":{"top":"0.6em","right":"0.6em","bottom":"0.6em","left":"0.6em"}},"shadowOffsetX":{"type":"string"},"shadowOffsetY":{"type":"string"},"shadowRadius":{"type":"string","default":"0.6em"},"shadowColor":{"type":"string","default":"rgba(0, 0, 0, 0.25)"}},"supports":{"_#":"Allow customizing border","anchor":false,"align":false,"alignWide":false,"className":true,"color":{"background":true,"gradients":true,"link":false,"text":true},"customClassName":false,"defaultStylePicker":false,"filter":{"duotone":true},"html":false,"inserter":false,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":true,"textAlign":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":{"color":false,"radius":false,"style":false,"width":false,"defaultControls":{"color":false,"radius":false,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":false,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}}}'),n=window.ReactJSXRuntime;const{registerBlockType:s}=wp.blocks,{PanelBody:d,PanelRow:c,ToolbarGroup:u,ToolbarItem:p,Flex:g,Button:f,SelectControl:h,FocalPointPicker:b,RangeControl:m,__experimentalBoxControl:k,__experimentalUnitControl:x,ColorPicker:j}=wp.components,{InspectorControls:R,BlockControls:C,__experimentalBlockAlignmentMatrixControl:v,InnerBlocks:y,useBlockProps:w,useInnerBlocksProps:B,MediaUpload:S,MediaUploadCheck:z,ColorPaletteControl:T}=wp.blockEditor,{useState:P}=wp.element,{withState:_}=wp.compose,I={"top left":"is-position-top-left","top center":"is-position-top-center","top right":"is-position-top-right","center left":"is-position-center-left","center center":"is-position-center-center",center:"is-position-center-center","center right":"is-position-center-right","bottom left":"is-position-bottom-left","bottom center":"is-position-bottom-center","bottom right":"is-position-bottom-right"},O=e=>e&&"center"!==e&&"center center"!==e?I[e]:"";s(a.name,{...a,icon:{src:"format-gallery",foreground:"#3399cc"},edit:r=>{const{attributes:l,context:a,setAttributes:s}=r;(0,e.isEqual)(a["cumulus-flipcard/borderRadius"],l.borderRadius)||s({borderRadius:a["cumulus-flipcard/borderRadius"]});const P=O(l.contentPosition),_=["crsg-flipcard-face-container",`crsg-flipcard-face-${l.face}`];P&&_.push(["has-custom-content-position",P]);const I=w({className:_.join(" "),style:i(l)}),L=B({className:"crsg-flipcard-face"},{renderAppender:y.ButtonBlockAppender,templateLock:!1}),W=e=>{const t={...l.style,...e};s({style:t})};return(0,n.jsxs)("div",{...I,children:[(0,n.jsxs)(C,{group:"block",children:[(0,n.jsx)(u,{children:(0,n.jsx)(v,{label:"Set content container alignment",value:l.contentPosition,onChange:e=>s({contentPosition:e})})}),(0,n.jsx)(u,{children:(0,n.jsx)(p,{as:g,style:{paddingLeft:"1em",paddingRight:"1em"},children:l.face.toUpperCase()})})]}),(0,n.jsxs)(R,{children:[(0,n.jsxs)(d,{title:"Background Image",initialOpen:l.backgroundImage,children:[(0,n.jsx)(c,{children:(0,n.jsx)(z,{children:(0,n.jsx)(S,{label:"Background Image",type:"image",value:l.backgroundImage,render:({open:e})=>(0,n.jsxs)(g,{style:{gap:"5px",justifyContent:"flex-start",marginBottom:"5px"},children:[(0,n.jsx)(f,{className:"button button-large",onClick:e,children:l.backgroundImage?"Replace Image":"Choose Image"}),l.backgroundImage&&(0,n.jsx)(f,{className:"button button-large",onClick:()=>{s({backgroundImage:void 0,backgroundImageThumb:void 0})},children:"Remove"})]}),onSelect:e=>{s({backgroundImage:e.sizes.full.url,backgroundImageThumb:e.sizes.thumbnail.url})}})})}),l.backgroundImage&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{url:l.backgroundImage,value:l.backgroundPosition,onChange:e=>{s({backgroundPosition:e})}}),(0,n.jsx)(h,{label:"Repeat",value:l.style.backgroundRepeat,options:[{label:"None",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Horizontal Only",value:"repeat-x"},{label:"Vertical Only",value:"repeat-y"}],onChange:e=>W({backgroundRepeat:e})}),(0,n.jsx)(h,{label:"Sizing Method",value:l.backgroundSizing,options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Percent",value:"percent"}],onChange:e=>{s({backgroundSizing:e})}})]}),"percent"===l.backgroundSizing&&(0,n.jsx)(c,{children:(0,n.jsx)(m,{label:"Percentage Sizing",value:l.backgroundSizingPercent,initialPosition:l.backgroundSizingPercent,resetFallbackValue:100,onChange:e=>{s({backgroundSizingPercent:e}),W(i(l))},min:0,max:200})})]}),(0,n.jsx)(d,{title:"Padding",initialOpen:o(l.padding),children:(0,n.jsx)(k,{values:l.padding,onChange:e=>{const t={...l.padding,top:e.top,right:e.right,bottom:e.bottom,left:e.left};s({padding:t})}})}),(0,n.jsxs)(d,{title:"Border",initialOpen:o(l.borderWidth),children:[(0,n.jsx)(k,{label:"Border width",values:l.borderWidth,onChange:e=>{const t={...l.borderWidth,top:e.top,right:e.right,bottom:e.bottom,left:e.left};s({borderWidth:t})}}),(0,n.jsx)(T,{label:"Border color",value:l.borderColor,onChange:e=>s({borderColor:e})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Note:"}),"Border radius for the entire card is set from the parent card container."]})]}),(0,n.jsxs)(d,{title:"Shadow",initialOpen:l.shadowColor,children:[(0,n.jsx)(c,{title:"Shadow",children:(0,n.jsxs)(g,{children:[(0,n.jsx)(x,{label:"Offset X",size:"small",units:t,value:l.shadowOffsetX,onChange:e=>s({shadowOffsetX:e})}),(0,n.jsx)(x,{label:"Offset Y",size:"small",units:t,value:l.shadowOffsetY,onChange:e=>s({shadowOffsetY:e})}),(0,n.jsx)(x,{label:"Radius",size:"small",units:t,value:l.shadowRadius,onChange:e=>s({shadowRadius:e})})]})}),(0,n.jsx)(c,{children:(0,n.jsx)(j,{label:"Shadow color",color:l.shadowColor,onChangeComplete:e=>{s({shadowColor:e.color.toRgbString()})}})})]})]}),(0,n.jsx)("div",{...L,children:L.children})]})},save:e=>{const{attributes:t}=e,o=O(t.contentPosition),r=["crsg-flipcard-face-container",`crsg-flipcard-face-${t.face}`];o&&r.push(["has-custom-content-position",o]);const l=w.save({className:r.join(" "),style:i(t)});return(0,n.jsx)("div",{...l,children:(0,n.jsx)("div",{className:"crsg-flipcard-face",children:(0,n.jsx)(y.Content,{})})})}});const{registerBlockType:L}=wp.blocks,{Panel:W,PanelBody:N,PanelRow:F,ToolbarGroup:D,ToolbarItem:U,DropdownMenu:A,TextControl:$,ToggleControl:H,SelectControl:V,Button:X,IconButton:E,__experimentalUnitControl:Y,Flex:M}=wp.components,{InspectorControls:G,BlockControls:q,InnerBlocks:J,useBlockProps:K,useInnerBlocksProps:Z,__experimentalLinkControl:Q}=wp.blockEditor,{useState:ee}=wp.element;L(l.name,{...l,icon:{src:"format-gallery",foreground:"#3399cc"},edit:o=>{const[r,i]=ee(!0),{attributes:a,setAttributes:s,setState:d}=o,c=["crsg-flipcard",`crsg-flipcard-${a.flipDirection}`,"show-face-"+(r?"front":"back")],u=K({className:c.join(" ")}),p=Z({className:"crsg-flipcard-container",title:"CardFlip Container"},{template:[["cumulus-gutenberg/imageflip-face",{face:"front"},[]],["cumulus-gutenberg/imageflip-face",{face:"back"},[]]],templateLock:"insert"});return(0,n.jsxs)("div",{...u,children:[(0,n.jsxs)(q,{group:"block",children:[(0,n.jsx)(D,{children:(0,n.jsx)(U,{children:e=>(0,n.jsx)(A,{toggleProps:e,icon:`image-flip-${a.flipDirection}`,label:"Change flip direction",text:a.flipDirection.charAt(0).toUpperCase()+a.flipDirection.slice(1),controls:[{icon:"image-flip-horizontal",title:"Horizontal",isActive:"horizontal"===a.flipDirection,onClick:()=>s({flipDirection:"horizontal"})},{icon:"image-flip-vertical",title:"Vertical",isActive:"vertical"===a.flipDirection,onClick:()=>s({flipDirection:"vertical"})}]})})}),(0,n.jsx)(D,{children:(0,n.jsxs)(U,{as:E,icon:"randomize",title:"Flip the card face",onClick:()=>i(!r),children:["Viewing: ",r?"FRONT":"BACK"]})})]}),(0,n.jsx)(G,{children:(0,n.jsxs)(W,{children:[(0,n.jsxs)(N,{title:"Link",children:[(0,n.jsx)(Q,{label:"Link the card",value:{url:a.linkUrl,opensInNewTab:"_blank"===a.linkTarget},onChange:e=>{e||(e=void 0);const t={linkUrl:e.url,linkTitle:e.title===e.url?a.linkTitle:e.title,linkTarget:e.opensInNewTab?"_blank":void 0,linkRel:e.opensInNewTab?"noopener":void 0};s(t)}}),(0,n.jsx)($,{label:"Link Title",value:a.linkTitle||void 0,onChange:e=>{s({linkTitle:e})}}),a.linkUrl&&(0,n.jsx)(X,{className:"button button-large",onClick:()=>{s({linkUrl:l.attributes.linkUrl.default,linkTarget:l.attributes.linkTarget.default,linkTitle:l.attributes.linkTitle.default,linkRel:l.attributes.linkRel.default})},children:"Unlink Card"})]}),(0,n.jsxs)(N,{title:"Flip Effect",initialOpen:!1,children:[(0,n.jsx)(V,{label:"Direction",value:a.flipDirection,onChange:e=>s({flipDirection:e}),options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}]}),(0,n.jsx)(H,{label:"Zoom",checked:a.zoomOnHover,onChange:e=>{s({zoomOnHover:e})}})]}),(0,n.jsxs)(N,{title:"Border Radius",initialOpen:!(0,e.isEqual)(a.childBorderRadius,l.attributes.childBorderRadius.default),children:[(0,n.jsx)(F,{children:(0,n.jsxs)(M,{children:[(0,n.jsx)(Y,{label:"TL ┏",size:"small",units:t,value:a.childBorderRadius.topLeft,onChange:e=>{const t={...a.childBorderRadius,topLeft:e};s({childBorderRadius:t})}}),(0,n.jsx)(Y,{label:"TR ┓",size:"small",units:t,value:a.childBorderRadius.topRight,onChange:e=>{const t={...a.childBorderRadius,topRight:e};s({childBorderRadius:t})}}),(0,n.jsx)(Y,{label:"BR ┛",size:"small",units:t,value:a.childBorderRadius.bottomRight,onChange:e=>{const t={...a.childBorderRadius,bottomRight:e};s({childBorderRadius:t})}}),(0,n.jsx)(Y,{label:"BL ┗",size:"small",units:t,value:a.childBorderRadius.bottomLeft,onChange:e=>{const t={...a.childBorderRadius,bottomLeft:e};s({childBorderRadius:t})}})]})}),(0,n.jsx)(F,{children:!(0,e.isEqual)(a.childBorderRadius,l.attributes.childBorderRadius.default)&&(0,n.jsx)(X,{className:"button button-small",onClick:()=>{s({childBorderRadius:l.attributes.childBorderRadius.default})},children:"Reset"})})]})]})}),(0,n.jsx)("div",{...p,children:p.children})]})},save:e=>{const{attributes:t}=e,o=["crsg-flipcard",`crsg-flipcard-${t.flipDirection}`];t.zoomOnHover&&o.push("has-zoom-on-hover");let r={};t.linkUrl&&(r={href:t.linkUrl,target:t.linkTarget,title:t.linkTitle,rel:t.linkRel});const i=K.save({className:o.join(" "),...r}),l=e=>e.isLink?(0,n.jsx)("a",{...e,children:e.children}):(0,n.jsx)("div",{...e,children:e.children});return(0,n.jsx)(l,{isLink:t.linkUrl&&t.linkUrl.length>0,...i,children:(0,n.jsx)("div",{className:"crsg-flipcard-container",children:(0,n.jsx)(J.Content,{})})})}})}();