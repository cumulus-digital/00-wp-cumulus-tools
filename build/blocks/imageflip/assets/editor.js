!function(){"use strict";var e=window.React,t=window.lodash;const l=[{value:"px",label:"px",default:0},{value:"%",label:"%",default:0},{value:"em",label:"em",default:0},{value:"rem",label:"rem",default:0}],r=e=>e&&(e.top||e.right||e.bottom||e.left||e.topLeft||e.topRight||e.bottomRight||e.bottomLeft),o=e=>{if(e){const t=Object.values(e);return t.every((e=>e===t[0]))}return!1},a=e=>{let t={};if(e.backgroundSizing&&(t.backgroundSize="percent"===e.backgroundSizing?`${e.backgroundSizingPercent}%`:e.backgroundSizing),e.backgroundPosition&&(t.backgroundPosition=`${100*e.backgroundPosition.x}% ${100*e.backgroundPosition.y}%`),e.backgroundImage&&(t.backgroundImage=`url("${e.backgroundImage}")`),r(e.padding)&&(o(e.padding)?t.padding=e.padding.top:t={...t,paddingTop:e.padding.top,paddingRight:e.padding.right,paddingBottom:e.padding.bottom,paddingLeft:e.padding.left}),r(e.borderWidth)&&(o(e.borderWidth)?t.borderWidth=e.borderWidth.top:t={...t,borderTopWidth:e.borderWidth.top,borderRightWidth:e.borderWidth.right,borderBottomWidth:e.borderWidth.bottom,borderLeftWidth:e.borderWidth.left}),e.borderColor&&(t.borderColor=e.borderColor),e.shadowColor||e.shadowOffsetX||e.shadowOffsetY||e.shadowRadius){const l=[e.shadowOffsetX||0,e.shadowOffsetY||0,e.shadowRadius||0,e.shadowColor||"transparent"];t.boxShadow=l.join(" ")}return r(e.borderRadius)&&(o(e.borderRadius)?t.borderRadius=e.borderRadius.topLeft:t={...t,borderTopLeftRadius:e.borderRadius.topLeft,borderTopRightRadius:e.borderRadius.topRight,borderBottomRightRadius:e.borderRadius.bottomRight,borderBottomLeftRadius:e.borderRadius.bottomLeft}),{...e.style,...t}};var n=JSON.parse('{"_#":"Wordpress features support","$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"cumulus-gutenberg/imageflip","title":"Flip Card","description":"3D flipping card block.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-gallery","category":"cmls","editorScript":"file:./assets/editor.js","viewScript":"file:./assets/frontend.js","editorStyle":"file:./assets/editor.css","viewStyle":"file:./assets/frontend.css","attributes":{"linkUrl":{"type":"string"},"linkTarget":{"type":"string"},"linkRel":{"type":"string"},"flipDirection":{"type":"string","default":"horizontal"},"zoomOnHover":{"type":"boolean","default":true},"childBorderRadius":{"type":"object","default":{"topLeft":"0.6em","topRight":"0.6em","bottomRight":"0.6em","bottomLeft":"0.6em"}}},"providesContext":{"cumulus-flipcard/borderRadius":"childBorderRadius"},"supports":{"_#":"Allow customizing border","anchor":true,"align":true,"alignWide":false,"className":true,"color":{"background":false,"__experimentalDuotone":false,"gradients":false,"link":false,"text":false},"customClassName":true,"defaultStylePicker":true,"html":false,"inserter":true,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"align":false,"fontSize":false,"lineHeight":false,"fontWeight":false,"fontStyle":false,"textTransform":false,"__experimentalFontWeight":false,"__experimentalFontStyle":false,"__experimentalTextTransform":false},"border":{"color":false,"radius":true,"style":false,"width":false,"defaultControls":{"color":false,"radius":true,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":true,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":true,"style":false,"width":false}}}}'),i=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"name":"cumulus-gutenberg/imageflip-face","title":"Flip Card Face","description":"Face container for Flip Card blocks.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-image","category":"cmls","parent":["cumulus-gutenberg/imageflip"],"usesContext":["cumulus-flipcard/borderRadius"],"attributes":{"face":{"type":"string"},"style":{"type":"object","default":{"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundPosition":"50% 50%"}},"padding":{"type":"object","default":{"top":null,"right":null,"bottom":null,"left":null}},"borderColor":{"type":"string"},"borderWidth":{"type":"object"},"backgroundImage":{"type":"string"},"backgroundSizing":{"type":"string","default":"cover"},"backgroundSizingPercent":{"type":"number","default":100},"backgroundPosition":{"type":"object","default":{"x":0.5,"y":0.5}},"contentPosition":{"type":"string","default":"center center"},"borderRadius":{"type":"object","default":{"top":"0.6em","right":"0.6em","bottom":"0.6em","left":"0.6em"}},"shadowOffsetX":{"type":"string"},"shadowOffsetY":{"type":"string"},"shadowRadius":{"type":"string","default":"0.6em"},"shadowColor":{"type":"string","default":"rgba(0, 0, 0, 0.25)"}},"supports":{"_#":"Allow customizing border","anchor":false,"align":false,"alignWide":false,"className":true,"color":{"background":true,"__experimentalDuotone":true,"gradients":true,"link":false,"text":true},"customClassName":false,"defaultStylePicker":false,"html":false,"inserter":false,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":{"color":false,"radius":false,"style":false,"width":false,"defaultControls":{"color":false,"radius":false,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":false,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}}}');const{registerBlockType:s}=wp.blocks,{PanelBody:c,PanelRow:d,ToolbarGroup:u,ToolbarItem:p,Flex:g,Button:m,SelectControl:f,FocalPointPicker:b,RangeControl:h,__experimentalBoxControl:k,__experimentalUnitControl:C,ColorPicker:R}=wp.components,{InspectorControls:v,BlockControls:E,__experimentalBlockAlignmentMatrixControl:y,InnerBlocks:w,useBlockProps:B,useInnerBlocksProps:z,MediaUpload:S,MediaUploadCheck:x,ColorPaletteControl:T}=wp.blockEditor,{useState:_}=wp.element,{withState:P}=wp.compose,I={"top left":"is-position-top-left","top center":"is-position-top-center","top right":"is-position-top-right","center left":"is-position-center-left","center center":"is-position-center-center",center:"is-position-center-center","center right":"is-position-center-right","bottom left":"is-position-bottom-left","bottom center":"is-position-bottom-center","bottom right":"is-position-bottom-right"},O=e=>e&&"center"!==e&&"center center"!==e?I[e]:"";s(i.name,{...i,icon:{src:"format-gallery",foreground:"#3399cc"},edit:o=>{const{attributes:n,context:i,setAttributes:s}=o;(0,t.isEqual)(i["cumulus-flipcard/borderRadius"],n.borderRadius)||s({borderRadius:i["cumulus-flipcard/borderRadius"]});const _=O(n.contentPosition),P=["crsg-flipcard-face-container",`crsg-flipcard-face-${n.face}`];_&&P.push(["has-custom-content-position",_]);const I=B({className:P,style:a(n)}),L=z({className:"crsg-flipcard-face"},{renderAppender:w.ButtonBlockAppender,templateLock:!1}),W=e=>{const t={...n.style,...e};s({style:t})};return(0,e.createElement)("div",{...I},(0,e.createElement)(E,{group:"block"},(0,e.createElement)(u,null,(0,e.createElement)(y,{label:"Set content container alignment",value:n.contentPosition,onChange:e=>s({contentPosition:e})})),(0,e.createElement)(u,null,(0,e.createElement)(p,{as:g,style:{paddingLeft:"1em",paddingRight:"1em"}},n.face.toUpperCase()))),(0,e.createElement)(v,null,(0,e.createElement)(c,{title:"Background Image",initialOpen:n.backgroundImage},(0,e.createElement)(d,null,(0,e.createElement)(x,null,(0,e.createElement)(S,{label:"Background Image",type:"image",value:n.backgroundImage,render:({open:t})=>(0,e.createElement)(g,{style:{gap:"5px",justifyContent:"flex-start",marginBottom:"5px"}},(0,e.createElement)(m,{className:"button button-large",onClick:t},n.backgroundImage?"Replace Image":"Choose Image"),n.backgroundImage&&(0,e.createElement)(m,{className:"button button-large",onClick:()=>{s({backgroundImage:void 0,backgroundImageThumb:void 0})}},"Remove")),onSelect:e=>{s({backgroundImage:e.sizes.full.url,backgroundImageThumb:e.sizes.thumbnail.url})}}))),n.backgroundImage&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(b,{url:n.backgroundImage,value:n.backgroundPosition,onChange:e=>{s({backgroundPosition:e})}}),(0,e.createElement)(f,{label:"Repeat",value:n.style.backgroundRepeat,options:[{label:"None",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Horizontal Only",value:"repeat-x"},{label:"Vertical Only",value:"repeat-y"}],onChange:e=>W({backgroundRepeat:e})}),(0,e.createElement)(f,{label:"Sizing Method",value:n.backgroundSizing,options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Percent",value:"percent"}],onChange:e=>{s({backgroundSizing:e})}})),"percent"===n.backgroundSizing&&(0,e.createElement)(d,null,(0,e.createElement)(h,{label:"Percentage Sizing",value:n.backgroundSizingPercent,initialPosition:n.backgroundSizingPercent,resetFallbackValue:100,onChange:e=>{s({backgroundSizingPercent:e}),W(a(n))},min:0,max:200}))),(0,e.createElement)(c,{title:"Padding",initialOpen:r(n.padding)},(0,e.createElement)(k,{values:n.padding,onChange:e=>{const t={...n.padding,top:e.top,right:e.right,bottom:e.bottom,left:e.left};s({padding:t})}})),(0,e.createElement)(c,{title:"Border",initialOpen:r(n.borderWidth)},(0,e.createElement)(k,{label:"Border width",values:n.borderWidth,onChange:e=>{const t={...n.borderWidth,top:e.top,right:e.right,bottom:e.bottom,left:e.left};s({borderWidth:t})}}),(0,e.createElement)(T,{label:"Border color",value:n.borderColor,onChange:e=>s({borderColor:e})}),(0,e.createElement)("div",null,(0,e.createElement)("strong",null,"Note:"),"Border radius for the entire card is set from the parent card container.")),(0,e.createElement)(c,{title:"Shadow",initialOpen:n.shadowColor},(0,e.createElement)(d,{title:"Shadow"},(0,e.createElement)(g,null,(0,e.createElement)(C,{label:"Offset X",size:"small",units:l,value:n.shadowOffsetX,onChange:e=>s({shadowOffsetX:e})}),(0,e.createElement)(C,{label:"Offset Y",size:"small",units:l,value:n.shadowOffsetY,onChange:e=>s({shadowOffsetY:e})}),(0,e.createElement)(C,{label:"Radius",size:"small",units:l,value:n.shadowRadius,onChange:e=>s({shadowRadius:e})}))),(0,e.createElement)(d,null,(0,e.createElement)(R,{label:"Shadow color",color:n.shadowColor,onChangeComplete:e=>{s({shadowColor:e.color.toRgbString()})}})))),(0,e.createElement)("div",{...L},L.children))},save:t=>{const{attributes:l}=t,r=O(l.contentPosition),o=["crsg-flipcard-face-container",`crsg-flipcard-face-${l.face}`];r&&o.push(["has-custom-content-position",r]);const n=B.save({className:o.join(" "),style:a(l)});return(0,e.createElement)("div",{...n},(0,e.createElement)("div",{className:"crsg-flipcard-face"},(0,e.createElement)(w.Content,null)))}});const{registerBlockType:L}=wp.blocks,{Panel:W,PanelBody:N,PanelRow:D,ToolbarGroup:F,ToolbarItem:U,DropdownMenu:j,TextControl:A,ToggleControl:$,SelectControl:H,Button:V,IconButton:X,__experimentalUnitControl:Y,Flex:M}=wp.components,{InspectorControls:G,BlockControls:q,InnerBlocks:J,useBlockProps:K,useInnerBlocksProps:Z,__experimentalLinkControl:Q}=wp.blockEditor,{useState:ee}=wp.element;L(n.name,{...n,icon:{src:"format-gallery",foreground:"#3399cc"},edit:r=>{const[o,a]=ee(!0),{attributes:i,setAttributes:s,setState:c}=r,d=["crsg-flipcard",`crsg-flipcard-${i.flipDirection}`,"show-face-"+(o?"front":"back")],u=K({className:d}),p=Z({className:"crsg-flipcard-container",title:"CardFlip Container"},{template:[["cumulus-gutenberg/imageflip-face",{face:"front"},[]],["cumulus-gutenberg/imageflip-face",{face:"back"},[]]],templateLock:"insert"});return(0,e.createElement)("div",{...u},(0,e.createElement)(q,{group:"block"},(0,e.createElement)(F,null,(0,e.createElement)(U,null,(t=>(0,e.createElement)(j,{toggleProps:t,icon:`image-flip-${i.flipDirection}`,label:"Change flip direction",text:i.flipDirection.charAt(0).toUpperCase()+i.flipDirection.slice(1),controls:[{icon:"image-flip-horizontal",title:"Horizontal",isActive:"horizontal"===i.flipDirection,onClick:()=>s({flipDirection:"horizontal"})},{icon:"image-flip-vertical",title:"Vertical",isActive:"vertical"===i.flipDirection,onClick:()=>s({flipDirection:"vertical"})}]})))),(0,e.createElement)(F,null,(0,e.createElement)(U,{as:X,icon:"randomize",title:"Flip the card face",onClick:()=>a(!o)},"Viewing: ",o?"FRONT":"BACK"))),(0,e.createElement)(G,null,(0,e.createElement)(W,null,(0,e.createElement)(N,{title:"Link"},(0,e.createElement)(Q,{label:"Link the card",value:{url:i.linkUrl,opensInNewTab:"_blank"===i.linkTarget},onChange:e=>{e||(e=void 0);const t={linkUrl:e.url,linkTitle:e.title===e.url?i.linkTitle:e.title,linkTarget:e.opensInNewTab?"_blank":void 0,linkRel:e.opensInNewTab?"noopener":void 0};s(t)}}),(0,e.createElement)(A,{label:"Link Title",value:i.linkTitle||void 0,onChange:e=>{s({linkTitle:e})}}),i.linkUrl&&(0,e.createElement)(V,{className:"button button-large",onClick:()=>{s({linkUrl:n.attributes.linkUrl.default,linkTarget:n.attributes.linkTarget.default,linkTitle:n.attributes.linkTitle.default,linkRel:n.attributes.linkRel.default})}},"Unlink Card")),(0,e.createElement)(N,{title:"Flip Effect",initialOpen:!1},(0,e.createElement)(H,{label:"Direction",value:i.flipDirection,onChange:e=>s({flipDirection:e}),options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}]}),(0,e.createElement)($,{label:"Zoom",checked:i.zoomOnHover,onChange:e=>{s({zoomOnHover:e})}})),(0,e.createElement)(N,{title:"Border Radius",initialOpen:!(0,t.isEqual)(i.childBorderRadius,n.attributes.childBorderRadius.default)},(0,e.createElement)(D,null,(0,e.createElement)(M,null,(0,e.createElement)(Y,{label:"TL ┏",size:"small",units:l,value:i.childBorderRadius.topLeft,onChange:e=>{const t={...i.childBorderRadius,topLeft:e};s({childBorderRadius:t})}}),(0,e.createElement)(Y,{label:"TR ┓",size:"small",units:l,value:i.childBorderRadius.topRight,onChange:e=>{const t={...i.childBorderRadius,topRight:e};s({childBorderRadius:t})}}),(0,e.createElement)(Y,{label:"BR ┛",size:"small",units:l,value:i.childBorderRadius.bottomRight,onChange:e=>{const t={...i.childBorderRadius,bottomRight:e};s({childBorderRadius:t})}}),(0,e.createElement)(Y,{label:"BL ┗",size:"small",units:l,value:i.childBorderRadius.bottomLeft,onChange:e=>{const t={...i.childBorderRadius,bottomLeft:e};s({childBorderRadius:t})}}))),(0,e.createElement)(D,null,!(0,t.isEqual)(i.childBorderRadius,n.attributes.childBorderRadius.default)&&(0,e.createElement)(V,{className:"button button-small",onClick:()=>{s({childBorderRadius:n.attributes.childBorderRadius.default})}},"Reset"))))),(0,e.createElement)("div",{...p},p.children))},save:t=>{const{attributes:l}=t,r=["crsg-flipcard",`crsg-flipcard-${l.flipDirection}`];l.zoomOnHover&&r.push("has-zoom-on-hover");let o={};l.linkUrl&&(o={href:l.linkUrl,target:l.linkTarget,title:l.linkTitle,rel:l.linkRel});const a=K.save({className:r.join(" "),...o});return(0,e.createElement)((t=>t.isLink?(0,e.createElement)("a",{...t},t.children):(0,e.createElement)("div",{...t},t.children)),{isLink:l.linkUrl&&l.linkUrl.length>0,...a},(0,e.createElement)("div",{className:"crsg-flipcard-container"},(0,e.createElement)(J.Content,null)))}})}();