!function(){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.apply(this,arguments)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,n){return o=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==r(o)?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var o}var o=window.wp.element,l=window.lodash;function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=[{value:"px",label:"px",default:0},{value:"%",label:"%",default:0},{value:"em",label:"em",default:0},{value:"rem",label:"rem",default:0}],s=function(e){return e&&(e.top||e.right||e.bottom||e.left||e.topLeft||e.topRight||e.bottomRight||e.bottomLeft)},u=function(e){if(e){var t=Object.values(e);return t.every((function(e){return e===t[0]}))}return!1},d=function(e){var t={};if(e.backgroundSizing&&(t.backgroundSize="percent"===e.backgroundSizing?"".concat(e.backgroundSizingPercent,"%"):e.backgroundSizing),e.backgroundPosition&&(t.backgroundPosition="".concat(100*e.backgroundPosition.x,"% ").concat(100*e.backgroundPosition.y,"%")),e.backgroundImage&&(t.backgroundImage='url("'.concat(e.backgroundImage,'")')),s(e.padding)&&(u(e.padding)?t.padding=e.padding.top:t=i(i({},t),{},{paddingTop:e.padding.top,paddingRight:e.padding.right,paddingBottom:e.padding.bottom,paddingLeft:e.padding.left})),s(e.borderWidth)&&(u(e.borderWidth)?t.borderWidth=e.borderWidth.top:t=i(i({},t),{},{borderTopWidth:e.borderWidth.top,borderRightWidth:e.borderWidth.right,borderBottomWidth:e.borderWidth.bottom,borderLeftWidth:e.borderWidth.left})),e.borderColor&&(t.borderColor=e.borderColor),e.shadowColor||e.shadowOffsetX||e.shadowOffsetY||e.shadowRadius){var r=[e.shadowOffsetX||0,e.shadowOffsetY||0,e.shadowRadius||0,e.shadowColor||"transparent"];t.boxShadow=r.join(" ")}return s(e.borderRadius)&&(u(e.borderRadius)?t.borderRadius=e.borderRadius.topLeft:t=i(i({},t),{},{borderTopLeftRadius:e.borderRadius.topLeft,borderTopRightRadius:e.borderRadius.topRight,borderBottomRightRadius:e.borderRadius.bottomRight,borderBottomLeftRadius:e.borderRadius.bottomLeft})),i(i({},e.style),t)},f=JSON.parse('{"_#":"Wordpress features support","$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"cumulus-gutenberg/imageflip","title":"Flip Card","description":"3D flipping card block.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-gallery","category":"cmls","editorScript":"file:./assets/editor.js","viewScript":"file:./assets/frontend.js","editorStyle":"file:./assets/editor.css","viewStyle":"file:./assets/frontend.css","attributes":{"linkUrl":{"type":"string"},"linkTarget":{"type":"string"},"linkRel":{"type":"string"},"flipDirection":{"type":"string","default":"horizontal"},"zoomOnHover":{"type":"boolean","default":true},"childBorderRadius":{"type":"object","default":{"topLeft":"0.6em","topRight":"0.6em","bottomRight":"0.6em","bottomLeft":"0.6em"}}},"providesContext":{"cumulus-flipcard/borderRadius":"childBorderRadius"},"supports":{"_#":"Allow customizing border","anchor":true,"align":true,"alignWide":false,"className":true,"color":{"background":false,"__experimentalDuotone":false,"gradients":false,"link":false,"text":false},"customClassName":true,"defaultStylePicker":true,"html":false,"inserter":true,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"align":false,"fontSize":false,"lineHeight":false,"fontWeight":false,"fontStyle":false,"textTransform":false,"__experimentalFontWeight":false,"__experimentalFontStyle":false,"__experimentalTextTransform":false},"border":{"color":false,"radius":true,"style":false,"width":false,"defaultControls":{"color":false,"radius":true,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":true,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":true,"style":false,"width":false}}}}'),p=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"name":"cumulus-gutenberg/imageflip-face","title":"Flip Card Face","description":"Face container for Flip Card blocks.","keywords":["cumulus","cmls","image","hover","flip","imageflip","card","flipcard"],"icon":"format-image","category":"cmls","parent":["cumulus-gutenberg/imageflip"],"usesContext":["cumulus-flipcard/borderRadius"],"attributes":{"face":{"type":"string"},"style":{"type":"object","default":{"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundPosition":"50% 50%"}},"padding":{"type":"object","default":{"top":null,"right":null,"bottom":null,"left":null}},"borderColor":{"type":"string"},"borderWidth":{"type":"object"},"backgroundImage":{"type":"string"},"backgroundSizing":{"type":"string","default":"cover"},"backgroundSizingPercent":{"type":"number","default":100},"backgroundPosition":{"type":"object","default":{"x":0.5,"y":0.5}},"contentPosition":{"type":"string","default":"center center"},"borderRadius":{"type":"object","default":{"top":"0.6em","right":"0.6em","bottom":"0.6em","left":"0.6em"}},"shadowOffsetX":{"type":"string"},"shadowOffsetY":{"type":"string"},"shadowRadius":{"type":"string","default":"0.6em"},"shadowColor":{"type":"string","default":"rgba(0, 0, 0, 0.25)"}},"supports":{"_#":"Allow customizing border","anchor":false,"align":false,"alignWide":false,"className":true,"color":{"background":true,"__experimentalDuotone":true,"gradients":true,"link":false,"text":true},"customClassName":false,"defaultStylePicker":false,"html":false,"inserter":false,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":true,"fontSize":true,"lineHeight":true,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":{"color":false,"radius":false,"style":false,"width":false,"defaultControls":{"color":false,"radius":false,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":false,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}}}');function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=wp.blocks.registerBlockType,h=wp.components,y=h.PanelBody,k=h.PanelRow,v=h.ToolbarGroup,w=h.ToolbarItem,O=h.Flex,E=h.Button,C=h.SelectControl,R=h.FocalPointPicker,P=h.RangeControl,S=h.__experimentalBoxControl,j=h.__experimentalUnitControl,B=h.ColorPicker,x=wp.blockEditor,z=x.InspectorControls,T=x.BlockControls,_=x.__experimentalBlockAlignmentMatrixControl,I=x.InnerBlocks,D=x.useBlockProps,L=x.useInnerBlocksProps,W=x.MediaUpload,N=x.MediaUploadCheck,F=x.ColorPaletteControl,U=(wp.element.useState,wp.compose.withState,{"top left":"is-position-top-left","top center":"is-position-top-center","top right":"is-position-top-right","center left":"is-position-center-left","center center":"is-position-center-center",center:"is-position-center-center","center right":"is-position-center-right","bottom left":"is-position-bottom-left","bottom center":"is-position-bottom-center","bottom right":"is-position-bottom-right"}),A=function(e){return e&&"center"!==e&&"center center"!==e?U[e]:""};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}b(p.name,g(g({},p),{},{icon:{src:"format-gallery",foreground:"#3399cc"},edit:function(e){var t=e.attributes,r=e.context,n=e.setAttributes;(0,l.isEqual)(r["cumulus-flipcard/borderRadius"],t.borderRadius)||n({borderRadius:r["cumulus-flipcard/borderRadius"]});var a=A(t.contentPosition),i=["crsg-flipcard-face-container","crsg-flipcard-face-".concat(t.face)];a&&i.push(["has-custom-content-position",a]);var u=D({className:i,style:d(t)}),f=L({className:"crsg-flipcard-face"},{renderAppender:I.ButtonBlockAppender,templateLock:!1}),p=function(e){var r=g(g({},t.style),e);n({style:r})};return(0,o.createElement)("div",u,(0,o.createElement)(T,{group:"block"},(0,o.createElement)(v,null,(0,o.createElement)(_,{label:"Set content container alignment",value:t.contentPosition,onChange:function(e){return n({contentPosition:e})}})),(0,o.createElement)(v,null,(0,o.createElement)(w,{as:O,style:{paddingLeft:"1em",paddingRight:"1em"}},t.face.toUpperCase()))),(0,o.createElement)(z,null,(0,o.createElement)(y,{title:"Background Image",initialOpen:t.backgroundImage},(0,o.createElement)(k,null,(0,o.createElement)(N,null,(0,o.createElement)(W,{label:"Background Image",type:"image",value:t.backgroundImage,render:function(e){var r=e.open;return(0,o.createElement)(O,{style:{gap:"5px",justifyContent:"flex-start",marginBottom:"5px"}},(0,o.createElement)(E,{className:"button button-large",onClick:r},t.backgroundImage?"Replace Image":"Choose Image"),t.backgroundImage&&(0,o.createElement)(E,{className:"button button-large",onClick:function(){n({backgroundImage:void 0,backgroundImageThumb:void 0})}},"Remove"))},onSelect:function(e){n({backgroundImage:e.sizes.full.url,backgroundImageThumb:e.sizes.thumbnail.url})}}))),t.backgroundImage&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(R,{url:t.backgroundImage,value:t.backgroundPosition,onChange:function(e){n({backgroundPosition:e})}}),(0,o.createElement)(C,{label:"Repeat",value:t.style.backgroundRepeat,options:[{label:"None",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Horizontal Only",value:"repeat-x"},{label:"Vertical Only",value:"repeat-y"}],onChange:function(e){return p({backgroundRepeat:e})}}),(0,o.createElement)(C,{label:"Sizing Method",value:t.backgroundSizing,options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Percent",value:"percent"}],onChange:function(e){n({backgroundSizing:e})}})),"percent"===t.backgroundSizing&&(0,o.createElement)(k,null,(0,o.createElement)(P,{label:"Percentage Sizing",value:t.backgroundSizingPercent,initialPosition:t.backgroundSizingPercent,resetFallbackValue:100,onChange:function(e){n({backgroundSizingPercent:e}),p(d(t))},min:0,max:200}))),(0,o.createElement)(y,{title:"Padding",initialOpen:s(t.padding)},(0,o.createElement)(S,{values:t.padding,onChange:function(e){var r=g(g({},t.padding),{},{top:e.top,right:e.right,bottom:e.bottom,left:e.left});n({padding:r})}})),(0,o.createElement)(y,{title:"Border",initialOpen:s(t.borderWidth)},(0,o.createElement)(S,{label:"Border width",values:t.borderWidth,onChange:function(e){var r=g(g({},t.borderWidth),{},{top:e.top,right:e.right,bottom:e.bottom,left:e.left});n({borderWidth:r})}}),(0,o.createElement)(F,{label:"Border color",value:t.borderColor,onChange:function(e){return n({borderColor:e})}}),(0,o.createElement)("div",null,(0,o.createElement)("strong",null,"Note:"),"Border radius for the entire card is set from the parent card container.")),(0,o.createElement)(y,{title:"Shadow",initialOpen:t.shadowColor},(0,o.createElement)(k,{title:"Shadow"},(0,o.createElement)(O,null,(0,o.createElement)(j,{label:"Offset X",size:"small",units:c,value:t.shadowOffsetX,onChange:function(e){return n({shadowOffsetX:e})}}),(0,o.createElement)(j,{label:"Offset Y",size:"small",units:c,value:t.shadowOffsetY,onChange:function(e){return n({shadowOffsetY:e})}}),(0,o.createElement)(j,{label:"Radius",size:"small",units:c,value:t.shadowRadius,onChange:function(e){return n({shadowRadius:e})}}))),(0,o.createElement)(k,null,(0,o.createElement)(B,{label:"Shadow color",color:t.shadowColor,onChangeComplete:function(e){n({shadowColor:e.color.toRgbString()})}})))),(0,o.createElement)("div",f,f.children))},save:function(e){var t=e.attributes,r=A(t.contentPosition),n=["crsg-flipcard-face-container","crsg-flipcard-face-".concat(t.face)];r&&n.push(["has-custom-content-position",r]);var l=D.save({className:n.join(" "),style:d(t)});return(0,o.createElement)("div",l,(0,o.createElement)("div",{className:"crsg-flipcard-face"},(0,o.createElement)(I.Content,null)))}}));var M=wp.blocks.registerBlockType,X=wp.components,Y=X.Panel,G=X.PanelBody,q=X.PanelRow,J=X.ToolbarGroup,$=X.ToolbarItem,K=X.DropdownMenu,Z=X.TextControl,Q=X.ToggleControl,ee=X.SelectControl,te=X.Button,re=X.IconButton,ne=X.__experimentalUnitControl,oe=X.Flex,le=wp.blockEditor,ae=le.InspectorControls,ie=le.BlockControls,ce=le.InnerBlocks,se=le.useBlockProps,ue=le.useInnerBlocksProps,de=le.__experimentalLinkControl,fe=wp.element.useState;M(f.name,V(V({},f),{},{icon:{src:"format-gallery",foreground:"#3399cc"},edit:function(e){var r,n,a=(r=fe(!0),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,a,i=[],c=!0,s=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return i}}(r,n)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],u=e.attributes,d=e.setAttributes,p=(e.setState,["crsg-flipcard","crsg-flipcard-".concat(u.flipDirection),"show-face-".concat(i?"front":"back")]),m=se({className:p}),g=ue({className:"crsg-flipcard-container",title:"CardFlip Container"},{template:[["cumulus-gutenberg/imageflip-face",{face:"front"},[]],["cumulus-gutenberg/imageflip-face",{face:"back"},[]]],templateLock:"insert"});return(0,o.createElement)("div",m,(0,o.createElement)(ie,{group:"block"},(0,o.createElement)(J,null,(0,o.createElement)($,null,(function(e){return(0,o.createElement)(K,{toggleProps:e,icon:"image-flip-".concat(u.flipDirection),label:"Change flip direction",text:u.flipDirection.charAt(0).toUpperCase()+u.flipDirection.slice(1),controls:[{icon:"image-flip-horizontal",title:"Horizontal",isActive:"horizontal"===u.flipDirection,onClick:function(){return d({flipDirection:"horizontal"})}},{icon:"image-flip-vertical",title:"Vertical",isActive:"vertical"===u.flipDirection,onClick:function(){return d({flipDirection:"vertical"})}}]})}))),(0,o.createElement)(J,null,(0,o.createElement)($,{as:re,icon:"randomize",title:"Flip the card face",onClick:function(){return s(!i)}},"Viewing: ",i?"FRONT":"BACK"))),(0,o.createElement)(ae,null,(0,o.createElement)(Y,null,(0,o.createElement)(G,{title:"Link"},(0,o.createElement)(de,{label:"Link the card",value:{url:u.linkUrl,opensInNewTab:"_blank"===u.linkTarget},onChange:function(e){e||(e=void 0);var t={linkUrl:e.url,linkTitle:e.title===e.url?u.linkTitle:e.title,linkTarget:e.opensInNewTab?"_blank":void 0,linkRel:e.opensInNewTab?"noopener":void 0};d(t)}}),(0,o.createElement)(Z,{label:"Link Title",value:u.linkTitle||void 0,onChange:function(e){d({linkTitle:e})}}),u.linkUrl&&(0,o.createElement)(te,{className:"button button-large",onClick:function(){d({linkUrl:f.attributes.linkUrl.default,linkTarget:f.attributes.linkTarget.default,linkTitle:f.attributes.linkTitle.default,linkRel:f.attributes.linkRel.default})}},"Unlink Card")),(0,o.createElement)(G,{title:"Flip Effect",initialOpen:!1},(0,o.createElement)(ee,{label:"Direction",value:u.flipDirection,onChange:function(e){return d({flipDirection:e})},options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}]}),(0,o.createElement)(Q,{label:"Zoom",checked:u.zoomOnHover,onChange:function(e){d({zoomOnHover:e})}})),(0,o.createElement)(G,{title:"Border Radius",initialOpen:!(0,l.isEqual)(u.childBorderRadius,f.attributes.childBorderRadius.default)},(0,o.createElement)(q,null,(0,o.createElement)(oe,null,(0,o.createElement)(ne,{label:"TL ┏",size:"small",units:c,value:u.childBorderRadius.topLeft,onChange:function(e){var t=V(V({},u.childBorderRadius),{},{topLeft:e});d({childBorderRadius:t})}}),(0,o.createElement)(ne,{label:"TR ┓",size:"small",units:c,value:u.childBorderRadius.topRight,onChange:function(e){var t=V(V({},u.childBorderRadius),{},{topRight:e});d({childBorderRadius:t})}}),(0,o.createElement)(ne,{label:"BR ┛",size:"small",units:c,value:u.childBorderRadius.bottomRight,onChange:function(e){var t=V(V({},u.childBorderRadius),{},{bottomRight:e});d({childBorderRadius:t})}}),(0,o.createElement)(ne,{label:"BL ┗",size:"small",units:c,value:u.childBorderRadius.bottomLeft,onChange:function(e){var t=V(V({},u.childBorderRadius),{},{bottomLeft:e});d({childBorderRadius:t})}}))),(0,o.createElement)(q,null,!(0,l.isEqual)(u.childBorderRadius,f.attributes.childBorderRadius.default)&&(0,o.createElement)(te,{className:"button button-small",onClick:function(){d({childBorderRadius:f.attributes.childBorderRadius.default})}},"Reset"))))),(0,o.createElement)("div",g,g.children))},save:function(t){var r=t.attributes,n=["crsg-flipcard","crsg-flipcard-".concat(r.flipDirection)];r.zoomOnHover&&n.push("has-zoom-on-hover");var l={};r.linkUrl&&(l={href:r.linkUrl,target:r.linkTarget,title:r.linkTitle,rel:r.linkRel});var a=se.save(V({className:n.join(" ")},l));return(0,o.createElement)((function(e){return e.isLink?(0,o.createElement)("a",e,e.children):(0,o.createElement)("div",e,e.children)}),e({isLink:r.linkUrl&&r.linkUrl.length>0},a),(0,o.createElement)("div",{className:"crsg-flipcard-container"},(0,o.createElement)(ce.Content,null)))}}))}();