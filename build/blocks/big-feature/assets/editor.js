!function(){"use strict";var e=window.React;const t="#00588d";var l={foreground:t,src:(0,e.createElement)("svg",{enableBackground:"new 0 0 20 20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"m18.58 0h-17.16c-.78 0-1.42.64-1.42 1.42v17.15c0 .79.64 1.43 1.42 1.43h17.15c.79 0 1.42-.64 1.42-1.42v-17.16c.01-.78-.63-1.42-1.41-1.42zm-9.38 17.77c0 .43-.35.78-.78.78h-6.19c-.43 0-.78-.35-.78-.78v-6.19c0-.43.35-.78.78-.78h6.19c.43 0 .78.35.78.78zm9.35 0c0 .43-.35.78-.78.78h-6.19c-.43 0-.78-.35-.78-.78v-6.19c0-.43.35-.78.78-.78h6.19c.43 0 .78.35.78.78zm0-9.47c0 .43-.35.78-.78.78h-15.54c-.43 0-.78-.35-.78-.78v-6.07c0-.43.35-.78.78-.78h15.54c.43 0 .78.35.78.78z",fill:"#00588d"}))},a=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"name":"cumulus-gutenberg/big-feature","title":"Big Feature","description":"A special grid of linked images for featuring content","keywords":["cumulus","cmls","feature","panel","hero"],"icon":"star-filled","category":"cmls","editorScript":"file:./assets/editor.js","viewScript":"file:./assets/frontend.js","style":"file:./assets/frontend.css","editorStyle":"file:./assets/editor.css","attributes":{"lazyLoad":{"type":"boolean","default":true}},"providesContext":{"cmlsBigFeature/lazyLoad":"lazyLoad"},"supports":{"_#":"Allow customizing border","anchor":true,"align":true,"alignWide":false,"className":true,"color":{"background":true,"__experimentalDuotone":false,"gradients":true,"link":true,"text":true},"customClassName":false,"defaultStylePicker":true,"html":false,"inserter":true,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"align":true,"fontSize":true,"lineHeight":false,"fontWeight":true,"fontStyle":true,"textTransform":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true},"border":{"color":true,"radius":true,"style":true,"width":true,"defaultControls":{"color":true,"radius":true,"style":true,"width":true}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}}}'),r=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"keywords":["cumulus","cmls","feature","panel","hero"],"icon":"star-filled","category":"cmls","attributes":{},"supports":{"_#":"Allow customizing border","anchor":false,"align":false,"alignWide":false,"className":true,"color":{"background":false,"__experimentalDuotone":false,"gradients":false,"link":false,"text":false},"customClassName":false,"defaultStylePicker":false,"html":false,"inserter":false,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":false,"fontSize":false,"lineHeight":false,"fontWeight":false,"fontStyle":false,"textTransform":false,"__experimentalFontWeight":false,"__experimentalFontStyle":false,"__experimentalTextTransform":false},"border":{"color":false,"radius":false,"style":false,"width":false,"defaultControls":{"color":false,"radius":false,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":false,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}}}');const n={className:"g-bf-column"};var s=window.wp.blockEditor,i=[{save(t){const l=s.useBlockProps.save({className:"g-bf-container"});return(0,e.createElement)("ul",{...l},(0,e.createElement)(s.InnerBlocks.Content,null))}}],o=window.wp.blocks;(0,o.registerBlockType)("cumulus-gutenberg/big-feature-column",{...r,title:"Big Feature Column",description:"Column within a Big Feature",keywords:[...r.keywords,"feature","box","column"],parent:["cumulus-gutenberg/big-feature"],icon:{src:"columns",foreground:t},edit:t=>{const l=(0,s.useBlockProps)(n),a=(0,s.useInnerBlocksProps)({title:"Big Feature Column"},{template:[["cumulus-gutenberg/big-feature-square"],["cumulus-gutenberg/big-feature-small-cluster"]],templateLock:!1});return(0,e.createElement)("ul",{...l},a.children)},save:()=>{const t=s.useBlockProps.save(n);return(0,e.createElement)("ul",{...t},(0,e.createElement)(s.InnerBlocks.Content,null))},deprecated:i});var u=JSON.parse('{"_#":"Wordpress features support","apiVersion":2,"name":"cumulus-gutenberg/big-feature-square","title":"Big Feature Square","description":"Image container within a Big Feature","keywords":["cumulus","cmls","feature","panel","hero","bo","image"],"icon":"star-filled","category":"cmls","parent":["cumulus-gutenberg/big-feature-column","cumulus-gutenberg/big-feature-small-cluster"],"attributes":{"mediaUrl":{"type":"string","source":"attribute","selector":"img","attribute":"src","default":"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},"mediaId":{"type":"integer"},"mediaDimensions":{"type":"object","default":{"width":null,"height":null}},"alt":{"type":"string","source":"attribute","selector":"img","attribute":"alt","default":""},"href":{"type":"string","source":"attribute","selector":"a","attribute":"href","default":null},"linkTarget":{"type":"string","source":"attribute","selector":"a","attribute":"target"},"rel":{"type":"string","source":"attribute","selector":"a","attribute":"rel"},"lazyLoad":{"type":"boolean","default":true}},"usesContext":["cmlsBigFeature/lazyLoad"],"supports":{"_#":"Allow customizing border","anchor":false,"align":false,"alignWide":false,"className":true,"color":{"background":false,"__experimentalDuotone":false,"gradients":false,"link":false,"text":false},"customClassName":false,"defaultStylePicker":false,"html":false,"inserter":false,"multiple":true,"reusable":true,"lock":true,"spacing":{"margin":false,"padding":false,"blockGap":false},"typography":{"align":false,"fontSize":false,"lineHeight":false,"fontWeight":false,"fontStyle":false,"textTransform":false,"__experimentalFontWeight":false,"__experimentalFontStyle":false,"__experimentalTextTransform":false},"border":{"color":false,"radius":false,"style":false,"width":false,"defaultControls":{"color":false,"radius":false,"style":false,"width":false}},"__experimentalBorder":{"color":false,"radius":false,"style":false,"width":false,"__experimentalDefaultControls":{"color":false,"radius":false,"style":false,"width":false}}}}'),c=window.wp.url;const m=e=>{const t=(0,c.getAuthority)(e);return t&&t.toLowerCase().includes(window.location.host.toLowerCase())?((0,c.getPathAndQueryString)(e)||"")+((0,c.getFragment)(e)||""):e},d=(e,t="large")=>{let l=e;const a=(e,t)=>e?.sizes?.[t]?e.sizes[t]:!!e?.media_details?.sizes?.[t]&&{...e.media_details.sizes[t],url:e.media_details.sizes[t].source_url};if(Array.isArray(t))t.some((t=>{const r=a(e,t);if(r)return l=r,!0}));else{const r=a(e,t);r&&(l=r)}const r=e?.alt;return console.log("MEDIA",t,l),{mediaUrl:m(l.url),mediaId:e.id,alt:r||"",mediaDimensions:{width:l.width,height:l.height}}},g=(e,t)=>!(!u.attributes[t].hasOwnProperty("default")||e[t]!=u.attributes[t].default);var p=window.wp.primitives,f=(0,e.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),h=window.wp.components;const b=t=>{const{attributes:l,setAttributes:a,mediaSize:r}=t;return(0,e.createElement)(s.MediaUploadCheck,null,(0,e.createElement)(s.MediaUpload,{title:"Big Feature Square",label:"Square Image",type:"image",allowedTypes:["image"],value:l.mediaId,onSelect:e=>{a(d(e,r))},...t}))},w=({attributes:t,setAttributes:l,mediaSize:a})=>(0,e.createElement)(s.MediaReplaceFlow,{mediaId:t.mediaId,mediaURL:t.mediaUrl,allowedTypes:["image"],accept:"image/*",onSelect:e=>{l(d(e,a))},label:"Replace image",title:"Replace image",showTooltip:!0,name:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(h.Icon,{icon:f}),"Replace")});var E=({attributes:t,setAttributes:l})=>(0,e.createElement)(h.TextControl,{label:"Image Alt Attribute",help:(0,e.createElement)(e.Fragment,null,!t.alt&&(0,e.createElement)("strong",{style:{color:"red",fontStyle:"italic"}},"Alt attributes are ",(0,e.createElement)("u",null,"necessary")," for SEO and accessibility!"),(0,e.createElement)(e.Fragment,null," "),"This should be the name of the show you're featuring or some other short, text interpretation of the image/link."),value:t.alt,onChange:e=>l({alt:e})}),k=({attributes:t,setAttributes:l})=>(0,e.createElement)(s.__experimentalLinkControl,{searchInputPlaceholder:"Search hereâ€¦",value:{url:t.href,title:t.alt,opensInNewTab:"_blank"===t.linkTarget,useTitleAsAlt:!0},settings:[{id:"opensInNewTab",title:"Open in a new tab"},{id:"useTitleAsAlt",title:'Use Post Title as "alt" attribute'}],onChange:e=>{l({href:m(e.url),alt:e.useTitleAsAlt?e.title:t.alt,linkTarget:e.opensInNewTab?"_blank":"",rel:e.opensInNewTab?"noopener":""})},onRemove:()=>l({href:null,linkTarget:null,rel:null})}),y=(0,e.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(p.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})),x=(0,e.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(p.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})),A=({attributes:t,setAttributes:l,mediaSize:a})=>{const r=(0,e.createElement)(h.Icon,{icon:"warning",style:{color:"red"}});return(0,e.createElement)(s.BlockControls,null,!g(t,"mediaUrl")&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(h.ToolbarGroup,null,(0,e.createElement)(w,{attributes:t,setAttributes:l,mediaSize:a})),(0,e.createElement)(h.ToolbarGroup,null,(0,e.createElement)(h.Dropdown,{headerTitle:"Alt Attribute",contentClassNAme:"is-alternate",renderToggle:({isOpen:l,onToggle:a})=>(0,e.createElement)(h.ToolbarButton,{icon:t.alt?"awards":r,label:t.alt?'Change "alt" attribute':'Set an "alt" attribute!',name:"Alt",title:t.alt?'Change "alt" attribute':'Set an "alt" attribute!',isActive:!!t.alt,showTooltip:!0,"aria-expanded":l,"aria-haspopup":!0,onClick:a}),renderContent:()=>(0,e.createElement)("div",{style:{minWidth:"250px",paddingTop:"6px",paddingRight:"16px",paddingLeft:"16px"}},(0,e.createElement)(E,{attributes:t,setAttributes:l}))})),(0,e.createElement)(h.ToolbarGroup,null,(0,e.createElement)(h.Dropdown,{headerTitle:"Link",renderToggle:({isOpen:l,onToggle:a})=>(0,e.createElement)(e.Fragment,null,!t.href&&(0,e.createElement)(h.ToolbarButton,{name:"link",icon:y,title:"Set a link",onClick:a,"aria-expanded":l,"aria-haspopup":!0,showTooltip:!0}),t.href&&(0,e.createElement)(h.ToolbarButton,{name:"link",icon:x,title:"Change link",onClick:a,isActive:!0,"aria-expanded":l,"aria-haspopup":!0,showTooltip:!0})),renderContent:()=>(0,e.createElement)(k,{attributes:t,setAttributes:l})}))))},v=window.wp.element,T=(0,v.forwardRef)((({className:t,children:l},a)=>(0,e.createElement)("div",{className:"components-panel__row",style:{display:"block"},ref:a},l))),B=window.wp.dom,_=({attributes:t,setAttributes:l,alerts:a,mediaSize:r})=>(0,e.createElement)(s.InspectorControls,null,(0,e.createElement)(h.Panel,null,(0,e.createElement)(h.PanelBody,null,a&&a.length?(0,e.createElement)(T,null,(0,e.createElement)("div",{style:{display:"block",position:"relative",width:"100%"}},(0,e.createElement)("ul",{style:{margin:"0 0 0 2ch",listStyle:"square"}},a.map(((t,l)=>(0,e.createElement)("li",{key:l,style:{color:"red"}},t)))))):null,g(t,"mediaUrl")?(0,e.createElement)(s.MediaPlaceholder,{icon:f,accept:"image/*",allowedTypes:["image"],onSelect:e=>{l(d(e))}}):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(T,{title:"Link"},t.href?(0,e.createElement)(h.Flex,null,(0,e.createElement)(h.FlexItem,null,(0,e.createElement)(h.ExternalLink,{href:t.href,style:{display:"block"}},(0,B.__unstableStripHTML)(t.alt||t.href)),(0,e.createElement)("span",{style:{color:"#757575",fontSize:"0.9em",lineHeight:1.3,wordBreak:"break-all"}},(0,c.filterURLForDisplay)((0,c.safeDecodeURI)(t.href),16)||"")),(0,e.createElement)(h.FlexItem,{style:{minWidth:"32px"}},(0,e.createElement)(h.Dropdown,{headerTitle:"Set a link",renderToggle:({isOpen:t,onToggle:l})=>(0,e.createElement)(h.Button,{isPrimary:!0,icon:x,onClick:l,"aria-expanded":t,"aria-haspopup":!0}),renderContent:()=>(0,e.createElement)(k,{attributes:t,setAttributes:l})}))):(0,e.createElement)(h.Dropdown,{headerTitle:"Set a link",renderToggle:({isOpen:t,onToggle:l})=>(0,e.createElement)(h.Button,{isPrimary:!0,icon:y,onClick:l,"aria-expanded":t,"aria-haspopup":!0},"Set a link"),renderContent:()=>(0,e.createElement)(k,{attributes:t,setAttributes:l})})),(0,e.createElement)("hr",{style:{width:"100%"}}),(0,e.createElement)(T,{style:{display:"block"}},(0,e.createElement)(E,{attributes:t,setAttributes:l})),(0,e.createElement)(T,null,(0,e.createElement)(b,{attributes:t,setAttributes:l,mediaSize:r,render:({open:a})=>(0,e.createElement)(h.Flex,{direction:"column"},(0,e.createElement)("div",null,(0,e.createElement)("img",{src:t.mediaUrl,width:"100%",onClick:a,className:`wp-image-${t.mediaId}`})),(0,e.createElement)(h.Flex,{direction:"row"},(0,e.createElement)(h.Button,{className:"button button-large",onClick:a},"Replace Image"),(0,e.createElement)(h.Button,{className:"button button-large",onClick:()=>{(({attributes:e,setAttributes:t})=>{const l={};for(const t in e)l[t]=u.attributes[t].default;t(l)})({attributes:t,setAttributes:l})}},"Remove")))})))))),C=window.wp.data;const S=t=>{if(t.href){const l={href:t.href};return t.linkTarget&&(l.target=t.linkTarget),t.rel&&(l.rel=t.rel),(0,e.createElement)("a",{...l},t.children)}return(0,e.createElement)(e.Fragment,null,t?.children)};var z=[{attributes:u.attributes,save(t){const{attributes:l}=t,a=s.useBlockProps.save(),r=l?.mediaDimensions?.width,n=l?.mediaDimensions?.height;return l.mediaUrl&&!g(l,"mediaUrl")?(0,e.createElement)("li",{...a},(0,e.createElement)(S,{...l},(0,e.createElement)("img",{src:l.mediaUrl,alt:l.alt,className:`wp-image-${l.mediaId}`,width:r?`${r}px`:"1000px",height:n?`${n}px`:"1000px"}))):(0,e.createElement)("li",{...a})}},{attributes:u.attributes,save(t){const{attributes:l}=t,a=s.useBlockProps.save();return l.mediaUrl&&!g(l,"mediaUrl")?(0,e.createElement)("li",{...a},(0,e.createElement)(S,{...t.attributes},(0,e.createElement)("img",{src:t.attributes.mediaUrl,alt:t.attributes.alt,width:"1000px",height:"1000px"}))):(0,e.createElement)("li",{...a})}}];(0,o.registerBlockType)(u.name,{...u,icon:{src:"format-image",foreground:t},edit:t=>{const{attributes:l,setAttributes:a,context:r}=t,[n,i]=(0,v.useState)([]),[o,u]=(0,v.useState)("medium"),[c,m]=(0,v.useState)([]),[d,p]=(0,v.useState)([]),f=(0,C.select)("core/block-editor").getBlockParentsByBlockName(t.clientId,"cumulus-gutenberg/big-feature-small-cluster");(0,v.useEffect)((()=>{if(r["cmlsBigFeature/lazyLoad"]!==l.lazyLoad&&a({lazyLoad:r["cmlsBigFeature/lazyLoad"]}),u(f?.length?"medium":["medium_large","large","full"]),g(l,"mediaUrl"))i(["is-placeholder"]);else{const t=[],a=[],r=[];g(l,"href")?(t.push("is-unlinked"),a.push("Needs a link."),r.push((0,e.createElement)(h.Icon,{key:"1",icon:"editor-unlink"}))):t.push("is-linked"),g(l,"alt")&&(t.push("is-inaccessable"),a.push('Needs an "alt" attribute.'),r.push((0,e.createElement)(h.Icon,{key:"2",icon:"warning"}))),g(l,"mediaDimensions")||l.mediaDimensions.width===l.mediaDimensions.height||(t.push("is-not-square"),a.push("Is not square."),r.push((0,e.createElement)(h.Icon,{key:"3",icon:"image-crop"}))),t.length&&(i(t),m(a),p(r))}}),[l,f,r]),(0,v.useEffect)((()=>{l.linkTarget?.length&&"_self"!==l.linkTarget||a({linkTarget:"",rel:l?.rel?.replace("noopener","")})}),[]);const w=(0,s.useBlockProps)({className:n,title:c.join("\n")}),E=l?.mediaDimensions?.width,k=l?.mediaDimensions?.height;return(0,e.createElement)("li",{...w},(0,e.createElement)("div",{className:"g-bf-square_container"},(0,e.createElement)(A,{...t,mediaSize:o}),(0,e.createElement)(_,{...t,alerts:c,mediaSize:o}),g(l,"mediaUrl")?(0,e.createElement)(b,{...t,mediaSize:o,render:({open:t})=>(0,e.createElement)("img",{className:`g-bf-placeholder wp-image-${l.mediaId}`,src:l.mediaUrl,alt:"Click to add an image",title:"Click to add an image",onClick:t,style:{cursor:"pointer"}})}):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:l.mediaUrl,alt:l.alt,className:`wp-image-${l.mediaId}`,width:E?`${E}px`:"",height:k?`${k}px`:"",sizes:E<800?"(min-width: 1000px) 33vw, 50vw":"75vw"}),d.length?(0,e.createElement)("div",{className:"g-bf-notice-icons"},d):null)))},save:t=>{const l=s.useBlockProps.save(),{attributes:a}=t,r=t=>{if(t.href){const l={href:t.href};return t.linkTarget&&(l.target=t.linkTarget),t.rel&&(l.rel=t.rel),(0,e.createElement)("a",{...l},t.children)}return(0,e.createElement)(e.Fragment,null,t?.children)};if(a.mediaUrl&&!g(a,"mediaUrl")){const t=a?.mediaDimensions?.width,n=a?.mediaDimensions?.height;return(0,e.createElement)("li",{...l},(0,e.createElement)(r,{...a},(0,e.createElement)("img",{src:a.mediaUrl,alt:a.alt,className:`wp-image-${a.mediaId}`,loading:a.lazyLoad?"lazy":"eager",width:t?`${t}px`:"",height:n?`${n}px`:"",sizes:t<800?"(min-width: 1000px) 33vw, 50vw":"75vw"})))}return(0,e.createElement)("li",{...l})},deprecated:z});const I={className:"g-bf-cluster"};(0,o.registerBlockType)("cumulus-gutenberg/big-feature-small-cluster",{...r,title:"Big Feature Small Cluster",description:"Cluster of small boxes in a Big Feature Column",keywords:[...r.keywords,"box"],parent:["cumulus-gutenberg/big-feature-column"],icon:{src:"columns",foreground:t},edit:t=>{const l=(0,s.useBlockProps)(I),a=(0,s.useInnerBlocksProps)({},{orientation:"horizontal",template:[["cumulus-gutenberg/big-feature-square"],["cumulus-gutenberg/big-feature-square"]],templateLock:!1});return(0,e.createElement)("li",{...l},(0,e.createElement)("ul",null,a.children))},save:t=>{const l=s.useBlockProps.save(I);return(0,e.createElement)("li",{...l},(0,e.createElement)("ul",null,(0,e.createElement)(s.InnerBlocks.Content,null)))}});const F={className:"g-big-feature"};(0,o.registerBlockType)(a.name,{...a,icon:l,edit:t=>{const l=(0,s.useBlockProps)(F),{attributes:a,setAttributes:r}=t,n=(0,s.useInnerBlocksProps)({},{template:[["cumulus-gutenberg/big-feature-column"],["cumulus-gutenberg/big-feature-column"],["cumulus-gutenberg/big-feature-column"]],templateLock:!1});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.InspectorControls,null,(0,e.createElement)(h.Panel,null,(0,e.createElement)(h.PanelBody,null,(0,e.createElement)(h.PanelRow,null,(0,e.createElement)(h.ToggleControl,{label:"Lazy Load Images",checked:a.lazyLoad,onChange:e=>r({lazyLoad:e})}))))),(0,e.createElement)("section",{...l},n.children))},save:()=>{const t=s.useBlockProps.save(F);return(0,e.createElement)("section",{...t},(0,e.createElement)(s.InnerBlocks.Content,null))}})}();