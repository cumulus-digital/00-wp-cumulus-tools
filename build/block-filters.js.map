{"version":3,"file":"block-filters.js","mappings":"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","sources":["webpack://wp-cumulus-tools/./block-filters/add-margin-support.js","webpack://wp-cumulus-tools/./block-filters/ajax-query-loop/filters.js","webpack://wp-cumulus-tools/./block-filters/ajax-query-loop/index.js","webpack://wp-cumulus-tools/./block-filters/index.js","webpack://wp-cumulus-tools/./block-filters/post-terms/index.js","webpack://wp-cumulus-tools/./block-filters/post-terms/select-taxonomies.js","webpack://wp-cumulus-tools/./block-filters/search/filters.js","webpack://wp-cumulus-tools/./block-filters/search/index.js","webpack://wp-cumulus-tools/./node_modules/@wordpress/block-library/src/query/constants.js","webpack://wp-cumulus-tools/./node_modules/@wordpress/block-library/src/query/edit/inspector-controls/taxonomy-controls.js","webpack://wp-cumulus-tools/./node_modules/@wordpress/block-library/src/query/utils.js","webpack://wp-cumulus-tools/external window \"lodash\"","webpack://wp-cumulus-tools/external window [\"wp\",\"blockEditor\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"components\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"compose\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"coreData\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"data\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"element\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"hooks\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"htmlEntities\"]","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://wp-cumulus-tools/webpack/bootstrap","webpack://wp-cumulus-tools/webpack/runtime/compat get default export","webpack://wp-cumulus-tools/webpack/runtime/define property getters","webpack://wp-cumulus-tools/webpack/runtime/hasOwnProperty shorthand","webpack://wp-cumulus-tools/webpack/runtime/make namespace object","webpack://wp-cumulus-tools/./global/block-filters.js"],"sourcesContent":["/**\n * Add margin support to any block!\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n// List of blocks to add margin support to\nconst affectsBlocks = [\n\t'core/audio',\n\t'core/calendar',\n\t'core/categories',\n\t'core/cover',\n\t'core/embed',\n\t'core/group',\n\t'core/image',\n\t'core/latest-comments',\n\t'core/latest-posts',\n\t'core/list',\n\t'core/media-text',\n\t'core/post-author',\n\t'core/post-author-name',\n\t'core/post-date',\n\t'core/post-content',\n\t'core/post-excerpt',\n\t'core/post-template',\n\t'core/query',\n\t'core/query-pagination',\n\t'core/query-pagination-previous',\n\t'core/query-pagination-next',\n\t'core/query-pagination-numbers',\n\t'core/search',\n\t'core/separator',\n\t'core/tag-cloud',\n\t'core/video',\n];\n\n// add attributes and supports to block metadata\nconst addSpacingSupportToBlocks = ( settings, name ) => {\n\tif ( ! affectsBlocks.includes( name ) ) {\n\t\treturn settings;\n\t}\n\n\tif (\n\t\tsettings?.supports?.spacing?.margin === true ||\n\t\t( Array.isArray( settings?.supports?.spacing?.margin ) &&\n\t\t\tsettings?.supports?.spacing?.margin.includes( 'top' ) &&\n\t\t\tsettings?.supports?.spacing?.margin.includes( 'bottom' ) )\n\t) {\n\t\treturn settings;\n\t}\n\n\tlet newMargin = [ 'top', 'bottom' ];\n\tif ( settings?.supports?.spacing?.margin ) {\n\t\tnewMargin = [ settings?.supports?.spacing?.margin, ...newMargin ];\n\t}\n\tsettings.supports = {\n\t\t...settings?.supports,\n\t\tspacing: {\n\t\t\t...settings?.supports?.spacing,\n\t\t\tmargin: newMargin,\n\t\t\t__experimentalDefaultControls: Object.assign(\n\t\t\t\tsettings?.supports?.spacing?.margin\n\t\t\t\t\t?.__experimentalDefaultControls || {},\n\t\t\t\t{ margin: true }\n\t\t\t),\n\t\t},\n\t};\n\tsettings.attributes = {\n\t\t...settings?.attributes,\n\t\tstyle: { type: 'object' },\n\t};\n\tconsole.debug(\n\t\t`wp-cumulus-tools/block-filters/add-margin-support - Added margin support to ${ name }`\n\t);\n\treturn settings;\n};\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/add-margin-support',\n\taddSpacingSupportToBlocks\n);\n\nconst addMarginStyleToBlocks = ( props, blockType, attributes ) => {\n\tif ( ! affectsBlocks.includes( blockType.name ) ) {\n\t\treturn props;\n\t}\n\tif ( attributes?.style?.spacing ) {\n\t\tprops.style = {\n\t\t\t...props.style,\n\t\t\tmarginTop: attributes?.style?.spacing?.margin?.top,\n\t\t\tmarginBottom: attributes?.style?.spacing?.margin?.bottom,\n\t\t};\n\t}\n\treturn props;\n};\nwp.hooks.addFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'cmls/block-filters/add-margin-support',\n\taddSpacingSupportToBlocks\n);\n\nconst addSpacingStyleToBlocks = createHigherOrderComponent(\n\t( BlockListBlock ) => {\n\t\treturn ( props ) => {\n\t\t\tif ( ! affectsBlocks.includes( props.name ) ) {\n\t\t\t\treturn <BlockListBlock { ...props } />;\n\t\t\t}\n\t\t\tconst { attributes } = props;\n\t\t\tconst styles = {\n\t\t\t\tmarginTop: attributes?.style?.spacing?.margin?.top,\n\t\t\t\tmarginBottom: attributes?.style?.spacing?.margin?.bottom,\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<BlockListBlock\n\t\t\t\t\t{ ...props }\n\t\t\t\t\twrapperProps={ { style: styles } }\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\t},\n\t'addSpacingStypesToSeparator'\n);\n\nwp.hooks.addFilter(\n\t'editor.BlockListBlock',\n\t'cmls/block-filters/add-margin-support',\n\taddSpacingStyleToBlocks\n);\n","/**\n * Add an attribute and toggle for using ajax with query loop pagination\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { PanelRow, ToggleControl } from '@wordpress/components';\nimport { InspectorAdvancedControls } from '@wordpress/block-editor';\n\nconst addAttributesToCoreQuery = ( settings, name ) => {\n\tif ( name !== 'core/query' ) {\n\t\treturn settings;\n\t}\n\n\treturn Object.assign( {}, settings, {\n        attributes: Object.assign( {}, settings.attributes, {\n            useAjax: { type: 'boolean', default: false }\n        } ),\n    } );\n};\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/query/filters/ajax',\n\taddAttributesToCoreQuery\n);\n\n/**\n * Inspector controls\n */\nconst withAjaxToggle = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( props.name !== 'core/query' ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel=\"Use Ajax Pagination\"\n\t\t\t\t\t\t\t\thelp=\"Pagination reloads the block in place instead of reloading the page\"\n\t\t\t\t\t\t\t\tchecked={!!attributes.useAjax}\n\t\t\t\t\t\t\t\tonChange={(val) => setAttributes({ useAjax: !attributes.useAjax })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n});\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/query/filters/ajax',\n\twithAjaxToggle\n);\n\nconst saveAjaxAttribute = ( extraProps, blockType, attributes ) => {\n    // Do nothing if it's another block than our defined ones.\n\tif (blockType.name !== 'core/query') {\n\t\treturn extraProps;\n\t}\n\n\textraProps.className = extraProps.className.replace(/\\s*uses?\\-ajax\\s*/, '');\n\tif (attributes.useAjax) {\n\t\textraProps.className += ' uses-ajax';\n\t}\n\n    return extraProps;\n\n};\nwp.hooks.addFilter(\n    'blocks.getSaveContent.extraProps',\n    'cmls/block-filters/query/filters/ajax',\n    saveAjaxAttribute\n);","/**\n * Adds ajax-pagination capability to query loops\n */\nimport './filters';\n","/**\n * Block filters\n */\n\nimport './post-terms';\nimport './search';\nimport './ajax-query-loop';\n\n/**\n * Multi-block filters\n */\nimport './add-margin-support.js';\n","/**\n * Filters for the core/post-terms block\n */\nimport './select-taxonomies';\n","/**\n * Add support for custom taxonomies to post-terms block\n * Automatically selects the appropriate term based on the\n * variation (categories => hierarchical, tags => not hierarchical))\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Panel, PanelBody, SelectControl } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n// Enable tax type selector on these blocks\nconst enableTaxTypeSelector = [ 'core/post-terms' ];\n\nconst withTaxTypeSelector = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( ! enableTaxTypeSelector.includes( props.name ) ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\t\tconst { term } = attributes;\n\t\tconst [ showInspector, setShowInspector ] = useState( false );\n\t\tconst [ taxonomyOptions, setTaxonomyOptions ] = useState( [] );\n\t\t/*\n\t\tuseEffect(() => {\n\t\t\tif (!attributes.postType) {\n\t\t\t\tsetAttributes({\n\t\t\t\t\tpostType: wp.data\n\t\t\t\t\t\t.select('core/editor')\n\t\t\t\t\t\t.getCurrentPostType(),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t*/\n\n\t\t// Fill our taxonomies\n\t\tconst { postType } = useSelect( ( select ) => {\n\t\t\treturn { postType: select( 'core/editor' ).getCurrentPostType() };\n\t\t}, [] );\n\t\tconst { availableTaxonomies, isLoading } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst query = {\n\t\t\t\t\ttype: postType,\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t\tper_page: -1,\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\tavailableTaxonomies:\n\t\t\t\t\t\tselect( 'core' ).getTaxonomies( query ),\n\t\t\t\t\tisLoading: select( 'core/data' ).isResolving(\n\t\t\t\t\t\t'core',\n\t\t\t\t\t\t'getTaxonomies',\n\t\t\t\t\t\tquery\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ postType ]\n\t\t);\n\n\t\tuseEffect( () => {\n\t\t\tif ( ! availableTaxonomies ) {\n\t\t\t\tsetTaxonomyOptions( [ { label: 'Loading...' } ] );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ! availableTaxonomies.length ) {\n\t\t\t\tsetTaxonomyOptions( [ { label: 'None available' } ] );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet hasTax = false;\n\t\t\tconst newTaxes = availableTaxonomies.map( ( tax ) => {\n\t\t\t\tif ( tax.slug === term ) {\n\t\t\t\t\thasTax = true;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tlabel: tax.name,\n\t\t\t\t\tvalue: tax.slug,\n\t\t\t\t};\n\t\t\t} );\n\t\t\tif ( ! hasTax ) {\n\t\t\t\tlet newTerm = null;\n\t\t\t\tif ( term === 'post_tag' ) {\n\t\t\t\t\tnewTerm = availableTaxonomies.find(\n\t\t\t\t\t\t( tax ) => tax.hierarchical === false\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( term === 'category' ) {\n\t\t\t\t\tnewTerm = availableTaxonomies.find(\n\t\t\t\t\t\t( tax ) => tax.hierarchical === true\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( newTerm ) {\n\t\t\t\t\tsetAttributes( { term: newTerm.slug } );\n\t\t\t\t} else {\n\t\t\t\t\tsetShowInspector( true );\n\t\t\t\t\tsetAttributes( { term: newTaxes[ 0 ].value } );\n\t\t\t\t}\n\t\t\t\tnewTaxes.unshift( {\n\t\t\t\t\tlabel: 'Select a taxonomy',\n\t\t\t\t\tvalue: null,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tsetShowInspector( false );\n\t\t\t}\n\t\t\tsetTaxonomyOptions( newTaxes );\n\t\t}, [ availableTaxonomies ] );\n\n\t\t/**\n\t\t * One day maybe this block will support changing post type...\n\t\t */\n\t\t/*\n\t\tconst { availablePostTypes } = useSelect((select) => {\n\t\t\tconst types = select('core').getPostTypes();\n\t\t\tif (types && types.length) {\n\t\t\t\tconst postTypes = types.filter((pt) => pt.viewable);\n\t\t\t\tif (postTypes && postTypes.length) {\n\t\t\t\t\tlet hasType = false;\n\t\t\t\t\tconst postTypeOptions = postTypes.map((pt) => {\n\t\t\t\t\t\tif (attributes.postType === pt.slug) {\n\t\t\t\t\t\t\thasType = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tlabel: pt.name,\n\t\t\t\t\t\t\tvalue: pt.slug,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\treturn {\n\t\t\t\t\t\tavailablePostTypes: postTypeOptions,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tavailablePostTypes: [{ label: 'None available.' }],\n\t\t\t};\n\t\t}, []);\n\t\t*/\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ isSelected && ! isLoading && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle=\"Taxonomy\"\n\t\t\t\t\t\t\t\tinitialOpen={ showInspector }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Taxonomy Type\"\n\t\t\t\t\t\t\t\t\tvalue={ term }\n\t\t\t\t\t\t\t\t\toptions={ taxonomyOptions }\n\t\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { term: val } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thelp=\"Only taxonomies associated with the current post type are available.\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</>\n\t\t);\n\t};\n}, 'withTaxTypeSelector' );\n\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/post-types/taxonomies',\n\twithTaxTypeSelector\n);\n","/**\n * Add base path, post type, and taxonomy filters to core search block\n */\nimport { TaxonomyControls } from 'wpBlockLibrary/src/query/edit/inspector-controls/taxonomy-controls';\nimport { usePostTypes } from 'wpBlockLibrary/src/query/utils';\n\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Panel, PanelBody, SelectControl } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\nconst addAttributesToSearch = ( settings, name ) => {\n\tif ( name !== 'core/search' ) {\n\t\treturn settings;\n\t}\n\tconst newSettings = {\n\t\tbaseCategory: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tquery: {\n\t\t\ttype: 'object',\n\t\t\tdefault: {\n\t\t\t\tpostType: null,\n\t\t\t\tauthor: '',\n\t\t\t\texclude: [],\n\t\t\t\tsticky: '',\n\t\t\t\ttaxQuery: null,\n\t\t\t},\n\t\t},\n\t};\n\tsettings.attributes = {\n\t\t...settings?.attributes,\n\t\t...newSettings,\n\t};\n\treturn settings;\n};\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/search/filters',\n\taddAttributesToSearch\n);\n\n/**\n * Inspector controls\n */\nconst withTaxTypeSelector = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( props.name !== 'core/search' ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\t\tconst [ postTypesSelectOptions, setPostTypesSelectOptions ] = useState(\n\t\t\t[]\n\t\t);\n\t\tconst [ postCategoriesSelectOptions, setPostCategoriesSelectOptions ] =\n\t\t\tuseState( [] );\n\n\t\tconst setQuery = ( newQuery ) =>\n\t\t\tsetAttributes( { query: { ...attributes.query, ...newQuery } } );\n\n\t\tconst {\n\t\t\tpostTypesTaxonomiesMap,\n\t\t\tpostTypesSelectOptions: availablePostTypes,\n\t\t} = usePostTypes();\n\t\tuseEffect( () => {\n\t\t\tsetPostTypesSelectOptions( [\n\t\t\t\t{\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tlabel: 'None',\n\t\t\t\t},\n\t\t\t\t...availablePostTypes,\n\t\t\t] );\n\t\t}, [ availablePostTypes ] );\n\n\t\tconst onPostTypeChange = ( newValue ) => {\n\t\t\tconst updateQuery = { postType: newValue };\n\t\t\t// We need to dynamically update the `taxQuery` property,\n\t\t\t// by removing any not supported taxonomy from the query.\n\t\t\tconst supportedTaxonomies = postTypesTaxonomiesMap[ newValue ];\n\t\t\tconst updatedTaxQuery = Object.entries(\n\t\t\t\tattributes?.query?.taxQuery || {}\n\t\t\t).reduce( ( accumulator, [ taxonomySlug, terms ] ) => {\n\t\t\t\tif (\n\t\t\t\t\tsupportedTaxonomies &&\n\t\t\t\t\tsupportedTaxonomies.includes( taxonomySlug )\n\t\t\t\t) {\n\t\t\t\t\taccumulator[ taxonomySlug ] = terms;\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t}, {} );\n\t\t\tupdateQuery.taxQuery = !! Object.keys( updatedTaxQuery ).length\n\t\t\t\t? updatedTaxQuery\n\t\t\t\t: undefined;\n\n\t\t\tupdateQuery.sticky = '';\n\t\t\tsetAttributes( { baseCategory: '' } );\n\t\t\tsetQuery( updateQuery );\n\t\t};\n\n\t\tconst { postCategories, postCategoriesLoading } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tif ( attributes?.query?.postType !== 'post' ) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tpostCategories: select( 'core' ).getEntityRecords(\n\t\t\t\t\t\t'taxonomy',\n\t\t\t\t\t\t'category',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t\t\tpostCategoriesLoading: select( 'core/data' ).isResolving(\n\t\t\t\t\t\t'core',\n\t\t\t\t\t\t'getEntityRecords',\n\t\t\t\t\t\t[ 'taxonomy', 'category', { per_page: -1 } ]\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ attributes.query, attributes.baseCategory ]\n\t\t);\n\t\tuseEffect( () => {\n\t\t\tconst noneAvailable = [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'None available',\n\t\t\t\t\tvalue: '',\n\t\t\t\t},\n\t\t\t];\n\t\t\tif ( postCategoriesLoading ) {\n\t\t\t\tsetPostCategoriesSelectOptions( [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tlabel: 'Loading categories…',\n\t\t\t\t\t},\n\t\t\t\t] );\n\t\t\t} else if ( ! postCategories ) {\n\t\t\t\tsetPostCategoriesSelectOptions( noneAvailable );\n\t\t\t} else {\n\t\t\t\tconst options = postCategories.map( ( term ) => {\n\t\t\t\t\treturn { value: term.slug, label: term.name };\n\t\t\t\t} );\n\t\t\t\tsetPostCategoriesSelectOptions( [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tlabel: 'None',\n\t\t\t\t\t},\n\t\t\t\t\t...options,\n\t\t\t\t] );\n\t\t\t}\n\t\t}, [ postCategories, postCategoriesLoading ] );\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<PanelBody title=\"Filters\" initialOpen={ true }>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tRestrict searches to a simple post category,\n\t\t\t\t\t\t\t\t\tor a more complex filter with other post\n\t\t\t\t\t\t\t\t\ttypes and taxonomy terms.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Post Type\"\n\t\t\t\t\t\t\t\t\tvalue={ attributes?.query?.postType || '' }\n\t\t\t\t\t\t\t\t\toptions={ postTypesSelectOptions }\n\t\t\t\t\t\t\t\t\tonChange={ onPostTypeChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ attributes?.query?.postType === 'post' && (\n\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\tlabel=\"Base Category\"\n\t\t\t\t\t\t\t\t\t\thelp=\"Searches can be restricted to a single Post category with a friendly URL.\"\n\t\t\t\t\t\t\t\t\t\tvalue={ attributes.baseCategory }\n\t\t\t\t\t\t\t\t\t\toptions={ postCategoriesSelectOptions }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\tbaseCategory: val,\n\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ ! attributes.baseCategory && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ attributes?.query?.postType && (\n\t\t\t\t\t\t\t\t\t\t\t<TaxonomyControls\n\t\t\t\t\t\t\t\t\t\t\t\tquery={ attributes?.query }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ setQuery }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</>\n\t\t);\n\t};\n} );\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/search/filters',\n\twithTaxTypeSelector\n);\n","/**\n * Extends core/search\n */\nimport './filters';\n","export const MAX_FETCHED_TERMS = 100;\nexport const DEFAULTS_POSTS_PER_PAGE = 3;\n\nexport default {\n\tMAX_FETCHED_TERMS,\n\tDEFAULTS_POSTS_PER_PAGE,\n};\n","/**\n * WordPress dependencies\n */\nimport { FormTokenField } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { getEntitiesInfo, useTaxonomies } from '../../utils';\nimport { MAX_FETCHED_TERMS } from '../../constants';\n\n// Helper function to get the term id based on user input in terms `FormTokenField`.\nconst getTermIdByTermValue = ( termsMappedByName, termValue ) => {\n\t// First we check for exact match by `term.id` or case sensitive `term.name` match.\n\tconst termId = termValue?.id || termsMappedByName[ termValue ]?.id;\n\tif ( termId ) return termId;\n\t/**\n\t * Here we make an extra check for entered terms in a non case sensitive way,\n\t * to match user expectations, due to `FormTokenField` behaviour that shows\n\t * suggestions which are case insensitive.\n\t *\n\t * Although WP tries to discourage users to add terms with the same name (case insensitive),\n\t * it's still possible if you manually change the name, as long as the terms have different slugs.\n\t * In this edge case we always apply the first match from the terms list.\n\t */\n\tconst termValueLower = termValue.toLocaleLowerCase();\n\tfor ( const term in termsMappedByName ) {\n\t\tif ( term.toLocaleLowerCase() === termValueLower ) {\n\t\t\treturn termsMappedByName[ term ].id;\n\t\t}\n\t}\n};\n\nexport const useTaxonomiesInfo = ( postType ) => {\n\tconst taxonomies = useTaxonomies( postType );\n\tconst taxonomiesInfo = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords } = select( coreStore );\n\t\t\tconst termsQuery = { per_page: MAX_FETCHED_TERMS };\n\t\t\tconst _taxonomiesInfo = taxonomies?.map( ( { slug, name } ) => {\n\t\t\t\tconst _terms = getEntityRecords( 'taxonomy', slug, termsQuery );\n\t\t\t\treturn {\n\t\t\t\t\tslug,\n\t\t\t\t\tname,\n\t\t\t\t\tterms: getEntitiesInfo( _terms ),\n\t\t\t\t};\n\t\t\t} );\n\t\t\treturn _taxonomiesInfo;\n\t\t},\n\t\t[ taxonomies ]\n\t);\n\treturn taxonomiesInfo;\n};\n\nexport function TaxonomyControls( { onChange, query } ) {\n\tconst taxonomiesInfo = useTaxonomiesInfo( query.postType );\n\tconst onTermsChange = ( taxonomySlug ) => ( newTermValues ) => {\n\t\tconst taxonomyInfo = taxonomiesInfo.find(\n\t\t\t( { slug } ) => slug === taxonomySlug\n\t\t);\n\t\tif ( ! taxonomyInfo ) return;\n\t\tconst termIds = Array.from(\n\t\t\tnewTermValues.reduce( ( accumulator, termValue ) => {\n\t\t\t\tconst termId = getTermIdByTermValue(\n\t\t\t\t\ttaxonomyInfo.terms.mapByName,\n\t\t\t\t\ttermValue\n\t\t\t\t);\n\t\t\t\tif ( termId ) accumulator.add( termId );\n\t\t\t\treturn accumulator;\n\t\t\t}, new Set() )\n\t\t);\n\t\tconst newTaxQuery = {\n\t\t\t...query.taxQuery,\n\t\t\t[ taxonomySlug ]: termIds,\n\t\t};\n\t\tonChange( { taxQuery: newTaxQuery } );\n\t};\n\t// Returns only the existing term ids in proper format to be\n\t// used in `FormTokenField`. This prevents the component from\n\t// crashing in the editor, when non existing term ids were provided.\n\tconst getExistingTaxQueryValue = ( taxonomySlug ) => {\n\t\tconst taxonomyInfo = taxonomiesInfo.find(\n\t\t\t( { slug } ) => slug === taxonomySlug\n\t\t);\n\t\tif ( ! taxonomyInfo ) return [];\n\t\treturn ( query.taxQuery?.[ taxonomySlug ] || [] ).reduce(\n\t\t\t( accumulator, termId ) => {\n\t\t\t\tconst term = taxonomyInfo.terms.mapById[ termId ];\n\t\t\t\tif ( term ) {\n\t\t\t\t\taccumulator.push( {\n\t\t\t\t\t\tid: termId,\n\t\t\t\t\t\tvalue: term.name,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t};\n\treturn (\n\t\t<>\n\t\t\t{ !! taxonomiesInfo?.length &&\n\t\t\t\ttaxonomiesInfo.map( ( { slug, name, terms } ) => {\n\t\t\t\t\tif ( ! terms?.names?.length ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\tclassName=\"block-library-query-inspector__taxonomy-control\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\t\t\tlabel={ name }\n\t\t\t\t\t\t\t\tvalue={ getExistingTaxQueryValue( slug ) }\n\t\t\t\t\t\t\t\tsuggestions={ terms.names }\n\t\t\t\t\t\t\t\tonChange={ onTermsChange( slug ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\n/**\n * The object used in Query block that contains info and helper mappings\n * from an array of IHasNameAndId objects.\n *\n * @typedef {Object} QueryEntitiesInfo\n * @property {IHasNameAndId[]}               entities  The array of entities.\n * @property {Object<string, IHasNameAndId>} mapById   Object mapping with the id as key and the entity as value.\n * @property {Object<string, IHasNameAndId>} mapByName Object mapping with the name as key and the entity as value.\n * @property {string[]}                      names     Array with the entities' names.\n */\n\n/**\n * Returns a helper object with mapping from Objects that implement\n * the `IHasNameAndId` interface. The returned object is used for\n * integration with `FormTokenField` component.\n *\n * @param {IHasNameAndId[]} entities The entities to extract of helper object.\n * @return {QueryEntitiesInfo} The object with the entities information.\n */\nexport const getEntitiesInfo = ( entities ) => {\n\tconst mapping = entities?.reduce(\n\t\t( accumulator, entity ) => {\n\t\t\tconst { mapById, mapByName, names } = accumulator;\n\t\t\tmapById[ entity.id ] = entity;\n\t\t\tmapByName[ entity.name ] = entity;\n\t\t\tnames.push( entity.name );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ mapById: {}, mapByName: {}, names: [] }\n\t);\n\treturn {\n\t\tentities,\n\t\t...mapping,\n\t};\n};\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of enitities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( get( entity, path ) ),\n\t} ) );\n};\n\n/**\n * Returns a helper object that contains:\n * 1. An `options` object from the available post types, to be passed to a `SelectControl`.\n * 2. A helper map with available taxonomies per post type.\n *\n * @return {Object} The helper object related to post types.\n */\nexport const usePostTypes = () => {\n\tconst postTypes = useSelect( ( select ) => {\n\t\tconst { getPostTypes } = select( coreStore );\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\tconst filteredPostTypes = getPostTypes( { per_page: -1 } )?.filter(\n\t\t\t( { viewable, slug } ) =>\n\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t);\n\t\treturn filteredPostTypes;\n\t}, [] );\n\tconst postTypesTaxonomiesMap = useMemo( () => {\n\t\tif ( ! postTypes?.length ) return;\n\t\treturn postTypes.reduce( ( accumulator, type ) => {\n\t\t\taccumulator[ type.slug ] = type.taxonomies;\n\t\t\treturn accumulator;\n\t\t}, {} );\n\t}, [ postTypes ] );\n\tconst postTypesSelectOptions = useMemo(\n\t\t() =>\n\t\t\t( postTypes || [] ).map( ( { labels, slug } ) => ( {\n\t\t\t\tlabel: labels.singular_name,\n\t\t\t\tvalue: slug,\n\t\t\t} ) ),\n\t\t[ postTypes ]\n\t);\n\treturn { postTypesTaxonomiesMap, postTypesSelectOptions };\n};\n\n/**\n * Hook that returns the taxonomies associated with a specific post type.\n *\n * @param {string} postType The post type from which to retrieve the associated taxonomies.\n * @return {Object[]} An array of the associated taxonomies.\n */\nexport const useTaxonomies = ( postType ) => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getTaxonomies } = select( coreStore );\n\t\t\tconst filteredTaxonomies = getTaxonomies( {\n\t\t\t\ttype: postType,\n\t\t\t\tper_page: -1,\n\t\t\t\tcontext: 'view',\n\t\t\t} );\n\t\t\treturn filteredTaxonomies;\n\t\t},\n\t\t[ postType ]\n\t);\n\treturn taxonomies;\n};\n\n/**\n * Recurses over a list of blocks and returns the first found\n * Query Loop block's clientId.\n *\n * @param {WPBlock[]} blocks The list of blocks to look through.\n * @return {string=} The first found Query Loop's clientId.\n */\nexport const getFirstQueryClientIdFromBlocks = ( blocks ) => {\n\tconst blocksQueue = [ ...blocks ];\n\twhile ( blocksQueue.length > 0 ) {\n\t\tconst block = blocksQueue.shift();\n\t\tif ( block.name === 'core/query' ) {\n\t\t\treturn block.clientId;\n\t\t}\n\t\tblock.innerBlocks?.forEach( ( innerBlock ) => {\n\t\t\tblocksQueue.push( innerBlock );\n\t\t} );\n\t}\n};\n","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../block-filters';\n"],"names":["addFilter","createHigherOrderComponent","affectsBlocks","addSpacingSupportToBlocks","settings","name","includes","supports","spacing","margin","Array","isArray","newMargin","__experimentalDefaultControls","Object","assign","attributes","style","type","console","debug","addMarginStyleToBlocks","props","blockType","marginTop","top","marginBottom","bottom","wp","hooks","addSpacingStyleToBlocks","BlockListBlock","styles","PanelRow","ToggleControl","InspectorAdvancedControls","addAttributesToCoreQuery","useAjax","default","withAjaxToggle","BlockEdit","setAttributes","isSelected","val","saveAjaxAttribute","extraProps","className","replace","Panel","PanelBody","SelectControl","InspectorControls","useState","useEffect","useSelect","enableTaxTypeSelector","withTaxTypeSelector","term","showInspector","setShowInspector","taxonomyOptions","setTaxonomyOptions","select","postType","getCurrentPostType","query","context","per_page","availableTaxonomies","getTaxonomies","isLoading","isResolving","label","length","hasTax","newTaxes","map","tax","slug","value","newTerm","find","hierarchical","unshift","TaxonomyControls","usePostTypes","addAttributesToSearch","newSettings","baseCategory","author","exclude","sticky","taxQuery","postTypesSelectOptions","setPostTypesSelectOptions","postCategoriesSelectOptions","setPostCategoriesSelectOptions","setQuery","newQuery","postTypesTaxonomiesMap","availablePostTypes","onPostTypeChange","newValue","updateQuery","supportedTaxonomies","updatedTaxQuery","entries","reduce","accumulator","taxonomySlug","terms","keys","undefined","postCategories","getEntityRecords","postCategoriesLoading","noneAvailable","options","MAX_FETCHED_TERMS","DEFAULTS_POSTS_PER_PAGE","FormTokenField","store","coreStore","getEntitiesInfo","useTaxonomies","getTermIdByTermValue","termsMappedByName","termValue","termId","id","termValueLower","toLocaleLowerCase","useTaxonomiesInfo","taxonomies","taxonomiesInfo","termsQuery","_taxonomiesInfo","_terms","onChange","onTermsChange","newTermValues","taxonomyInfo","termIds","from","mapByName","add","Set","newTaxQuery","getExistingTaxQueryValue","mapById","push","names","get","useMemo","decodeEntities","entities","mapping","entity","mapToIHasNameAndId","path","postTypes","getPostTypes","excludedPostTypes","filteredPostTypes","filter","viewable","labels","singular_name","filteredTaxonomies","getFirstQueryClientIdFromBlocks","blocks","blocksQueue","block","shift","clientId","innerBlocks","forEach","innerBlock","_arrayLikeToArray","arr","len","i","arr2","_arrayWithHoles","arrayLikeToArray","_arrayWithoutHoles","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","_extends","bind","target","arguments","source","prototype","hasOwnProperty","call","apply","_iterableToArray","iter","Symbol","iterator","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","next","done","err","_nonIterableRest","TypeError","_nonIterableSpread","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_slicedToArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_toConsumableArray","_unsupportedIterableToArray","o","minLen","n","toString","slice","constructor","test"],"sourceRoot":""}