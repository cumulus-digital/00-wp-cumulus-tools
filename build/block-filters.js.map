{"version":3,"file":"block-filters.js","mappings":"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","sources":["webpack://wp-cumulus-tools/./block-filters/add-margin-support.js","webpack://wp-cumulus-tools/./block-filters/ajax-query-loop/filters.js","webpack://wp-cumulus-tools/./block-filters/ajax-query-loop/index.js","webpack://wp-cumulus-tools/./block-filters/index.js","webpack://wp-cumulus-tools/./block-filters/post-terms/index.js","webpack://wp-cumulus-tools/./block-filters/post-terms/select-taxonomies.js","webpack://wp-cumulus-tools/./block-filters/query-loop-exclude-self/filters.js","webpack://wp-cumulus-tools/./block-filters/search/filters.js","webpack://wp-cumulus-tools/./block-filters/search/index.js","webpack://wp-cumulus-tools/./node_modules/@wordpress/block-library/src/query/constants.js","webpack://wp-cumulus-tools/./node_modules/@wordpress/block-library/src/query/edit/inspector-controls/taxonomy-controls.js","webpack://wp-cumulus-tools/./node_modules/@wordpress/block-library/src/query/utils.js","webpack://wp-cumulus-tools/external window \"lodash\"","webpack://wp-cumulus-tools/external window [\"wp\",\"blockEditor\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"blocks\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"components\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"compose\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"coreData\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"data\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"element\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"hooks\"]","webpack://wp-cumulus-tools/external window [\"wp\",\"htmlEntities\"]","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wp-cumulus-tools/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://wp-cumulus-tools/webpack/bootstrap","webpack://wp-cumulus-tools/webpack/runtime/compat get default export","webpack://wp-cumulus-tools/webpack/runtime/define property getters","webpack://wp-cumulus-tools/webpack/runtime/hasOwnProperty shorthand","webpack://wp-cumulus-tools/webpack/runtime/make namespace object"],"sourcesContent":["/**\n * Add margin support to any block!\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n// List of blocks to add margin support to\nconst affectsBlocks = [\n\t'core/audio',\n\t'core/calendar',\n\t'core/categories',\n\t'core/cover',\n\t'core/embed',\n\t'core/group',\n\t'core/image',\n\t'core/latest-comments',\n\t'core/latest-posts',\n\t'core/list',\n\t'core/media-text',\n\t'core/post-author',\n\t'core/post-author-name',\n\t'core/post-date',\n\t'core/post-content',\n\t'core/post-excerpt',\n\t'core/post-template',\n\t'core/query',\n\t'core/query-pagination',\n\t'core/query-pagination-previous',\n\t'core/query-pagination-next',\n\t'core/query-pagination-numbers',\n\t'core/search',\n\t'core/separator',\n\t'core/tag-cloud',\n\t'core/video',\n];\n\n// add attributes and supports to block metadata\nconst addSpacingSupportToBlocks = ( settings, name ) => {\n\tif ( ! affectsBlocks.includes( name ) ) {\n\t\treturn settings;\n\t}\n\n\tif (\n\t\tsettings?.supports?.spacing?.margin === true ||\n\t\t( Array.isArray( settings?.supports?.spacing?.margin ) &&\n\t\t\tsettings?.supports?.spacing?.margin.includes( 'top' ) &&\n\t\t\tsettings?.supports?.spacing?.margin.includes( 'bottom' ) )\n\t) {\n\t\treturn settings;\n\t}\n\n\tlet newMargin = [ 'top', 'bottom' ];\n\tif ( settings?.supports?.spacing?.margin ) {\n\t\tnewMargin = [ settings?.supports?.spacing?.margin, ...newMargin ];\n\t}\n\tsettings.supports = {\n\t\t...settings?.supports,\n\t\tspacing: {\n\t\t\t...settings?.supports?.spacing,\n\t\t\tmargin: newMargin,\n\t\t\t__experimentalDefaultControls: Object.assign(\n\t\t\t\tsettings?.supports?.spacing?.margin\n\t\t\t\t\t?.__experimentalDefaultControls || {},\n\t\t\t\t{ margin: true }\n\t\t\t),\n\t\t},\n\t};\n\tsettings.attributes = {\n\t\t...settings?.attributes,\n\t\tstyle: { type: 'object' },\n\t};\n\tconsole.debug(\n\t\t`wp-cumulus-tools/block-filters/add-margin-support - Added margin support to ${ name }`\n\t);\n\treturn settings;\n};\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/add-margin-support',\n\taddSpacingSupportToBlocks\n);\n\nconst addMarginStyleToBlocks = ( props, blockType, attributes ) => {\n\tif ( ! affectsBlocks.includes( blockType.name ) ) {\n\t\treturn props;\n\t}\n\tif ( attributes?.style?.spacing ) {\n\t\tprops.style = {\n\t\t\t...props.style,\n\t\t\tmarginTop: attributes?.style?.spacing?.margin?.top,\n\t\t\tmarginBottom: attributes?.style?.spacing?.margin?.bottom,\n\t\t};\n\t}\n\treturn props;\n};\nwp.hooks.addFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'cmls/block-filters/add-margin-support',\n\taddSpacingSupportToBlocks\n);\n\nconst addSpacingStyleToBlocks = createHigherOrderComponent(\n\t( BlockListBlock ) => {\n\t\treturn ( props ) => {\n\t\t\tif ( ! affectsBlocks.includes( props.name ) ) {\n\t\t\t\treturn <BlockListBlock { ...props } />;\n\t\t\t}\n\t\t\tconst { attributes } = props;\n\t\t\tconst styles = {\n\t\t\t\tmarginTop: attributes?.style?.spacing?.margin?.top,\n\t\t\t\tmarginBottom: attributes?.style?.spacing?.margin?.bottom,\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<BlockListBlock\n\t\t\t\t\t{ ...props }\n\t\t\t\t\twrapperProps={ { style: styles } }\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\t},\n\t'addSpacingStypesToSeparator'\n);\n\nwp.hooks.addFilter(\n\t'editor.BlockListBlock',\n\t'cmls/block-filters/add-margin-support',\n\taddSpacingStyleToBlocks\n);\n","/**\n * Add an attribute and toggle for using ajax with query loop pagination\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { PanelRow, ToggleControl } from '@wordpress/components';\nimport { InspectorAdvancedControls } from '@wordpress/block-editor';\n\nconst addAttributesToCoreQuery = ( settings, name ) => {\n\tif ( name !== 'core/query' ) {\n\t\treturn settings;\n\t}\n\n\treturn Object.assign( {}, settings, {\n\t\tattributes: Object.assign( {}, settings.attributes, {\n\t\t\tuseAjax: { type: 'boolean', default: false },\n\t\t} ),\n\t} );\n};\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/query/filters/ajax',\n\taddAttributesToCoreQuery\n);\n\n/**\n * Inspector controls\n */\nconst withAjaxToggle = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( props.name !== 'core/query' ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel=\"Use Ajax Pagination\"\n\t\t\t\t\t\t\t\thelp=\"Pagination reloads the block in place instead of reloading the page\"\n\t\t\t\t\t\t\t\tchecked={ !! attributes.useAjax }\n\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tuseAjax: ! attributes.useAjax,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n} );\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/query/filters/ajax',\n\twithAjaxToggle\n);\n\nconst saveAjaxAttribute = ( extraProps, blockType, attributes ) => {\n\t// Do nothing if it's another block than our defined ones.\n\tif ( blockType.name !== 'core/query' ) {\n\t\treturn extraProps;\n\t}\n\n\textraProps.className = extraProps.className.replace(\n\t\t/\\s*uses?\\-ajax\\s*/,\n\t\t''\n\t);\n\tif ( attributes.useAjax ) {\n\t\textraProps.className += ' uses-ajax';\n\t}\n\n\treturn extraProps;\n};\nwp.hooks.addFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'cmls/block-filters/query/filters/ajax',\n\tsaveAjaxAttribute\n);\n","/**\n * Adds ajax-pagination capability to query loops\n */\nimport './filters';\n","/**\n * Block filters\n */\n\nimport './post-terms';\nimport './search';\nimport './ajax-query-loop';\nimport './query-loop-exclude-self';\n\n/**\n * Multi-block filters\n */\nimport './add-margin-support.js';\n","/**\n * Filters for the core/post-terms block\n */\nimport './select-taxonomies';\n","/**\n * Add support for custom taxonomies to post-terms block\n * Automatically selects the appropriate term based on the\n * variation (categories => hierarchical, tags => not hierarchical))\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Panel, PanelBody, SelectControl } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n// Enable tax type selector on these blocks\nconst enableTaxTypeSelector = [ 'core/post-terms' ];\n\nconst withTaxTypeSelector = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( ! enableTaxTypeSelector.includes( props.name ) ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\t\tconst { term } = attributes;\n\t\tconst [ showInspector, setShowInspector ] = useState( false );\n\t\tconst [ taxonomyOptions, setTaxonomyOptions ] = useState( [] );\n\t\t/*\n\t\tuseEffect(() => {\n\t\t\tif (!attributes.postType) {\n\t\t\t\tsetAttributes({\n\t\t\t\t\tpostType: wp.data\n\t\t\t\t\t\t.select('core/editor')\n\t\t\t\t\t\t.getCurrentPostType(),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t*/\n\n\t\t// Fill our taxonomies\n\t\tconst { postType } = useSelect( ( select ) => {\n\t\t\treturn { postType: select( 'core/editor' ).getCurrentPostType() };\n\t\t}, [] );\n\t\tconst { availableTaxonomies, isLoading } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst query = {\n\t\t\t\t\ttype: postType,\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t\tper_page: -1,\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\tavailableTaxonomies:\n\t\t\t\t\t\tselect( 'core' ).getTaxonomies( query ),\n\t\t\t\t\tisLoading: select( 'core/data' ).isResolving(\n\t\t\t\t\t\t'core',\n\t\t\t\t\t\t'getTaxonomies',\n\t\t\t\t\t\tquery\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ postType ]\n\t\t);\n\n\t\tuseEffect( () => {\n\t\t\tif ( ! availableTaxonomies ) {\n\t\t\t\tsetTaxonomyOptions( [ { label: 'Loading...' } ] );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ! availableTaxonomies.length ) {\n\t\t\t\tsetTaxonomyOptions( [ { label: 'None available' } ] );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet hasTax = false;\n\t\t\tconst newTaxes = availableTaxonomies.map( ( tax ) => {\n\t\t\t\tif ( tax.slug === term ) {\n\t\t\t\t\thasTax = true;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tlabel: tax.name,\n\t\t\t\t\tvalue: tax.slug,\n\t\t\t\t};\n\t\t\t} );\n\t\t\tif ( ! hasTax ) {\n\t\t\t\tlet newTerm = null;\n\t\t\t\tif ( term === 'post_tag' ) {\n\t\t\t\t\tnewTerm = availableTaxonomies.find(\n\t\t\t\t\t\t( tax ) => tax.hierarchical === false\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( term === 'category' ) {\n\t\t\t\t\tnewTerm = availableTaxonomies.find(\n\t\t\t\t\t\t( tax ) => tax.hierarchical === true\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( newTerm ) {\n\t\t\t\t\tsetAttributes( { term: newTerm.slug } );\n\t\t\t\t} else {\n\t\t\t\t\tsetShowInspector( true );\n\t\t\t\t\tsetAttributes( { term: newTaxes[ 0 ].value } );\n\t\t\t\t}\n\t\t\t\tnewTaxes.unshift( {\n\t\t\t\t\tlabel: 'Select a taxonomy',\n\t\t\t\t\tvalue: null,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tsetShowInspector( false );\n\t\t\t}\n\t\t\tsetTaxonomyOptions( newTaxes );\n\t\t}, [ availableTaxonomies ] );\n\n\t\t/**\n\t\t * One day maybe this block will support changing post type...\n\t\t */\n\t\t/*\n\t\tconst { availablePostTypes } = useSelect((select) => {\n\t\t\tconst types = select('core').getPostTypes();\n\t\t\tif (types && types.length) {\n\t\t\t\tconst postTypes = types.filter((pt) => pt.viewable);\n\t\t\t\tif (postTypes && postTypes.length) {\n\t\t\t\t\tlet hasType = false;\n\t\t\t\t\tconst postTypeOptions = postTypes.map((pt) => {\n\t\t\t\t\t\tif (attributes.postType === pt.slug) {\n\t\t\t\t\t\t\thasType = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tlabel: pt.name,\n\t\t\t\t\t\t\tvalue: pt.slug,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\treturn {\n\t\t\t\t\t\tavailablePostTypes: postTypeOptions,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tavailablePostTypes: [{ label: 'None available.' }],\n\t\t\t};\n\t\t}, []);\n\t\t*/\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ isSelected && ! isLoading && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle=\"Taxonomy\"\n\t\t\t\t\t\t\t\tinitialOpen={ showInspector }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Taxonomy Type\"\n\t\t\t\t\t\t\t\t\tvalue={ term }\n\t\t\t\t\t\t\t\t\toptions={ taxonomyOptions }\n\t\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { term: val } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thelp=\"Only taxonomies associated with the current post type are available.\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</>\n\t\t);\n\t};\n}, 'withTaxTypeSelector' );\n\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/post-types/taxonomies',\n\twithTaxTypeSelector\n);\n","/**\n * Add an attribute and toggle for using ajax with query loop pagination\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { FormTokenField } from '@wordpress/components';\nimport { isNull } from 'lodash';\n\nconst addContextToCoreQuery = ( settings, name ) => {\n\tif ( name !== 'core/query' ) {\n\t\treturn settings;\n\t}\n\n\treturn Object.assign( {}, settings, {\n\t\tusesContext: Array.isArray( settings?.usesContext )\n\t\t\t? [ ...settings.usesContext, 'postId' ]\n\t\t\t: [ 'postId' ],\n\t} );\n};\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/query/filters/exclude-self',\n\taddContextToCoreQuery\n);\n/**\n * Inspector controls\n */\nconst withAjaxToggle = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( props.name !== 'core/query' ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\n\t\tif ( ! props?.context?.postId ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\ttitle=\"Exclude IDs\"\n\t\t\t\t\t\t\tinitialOpen={ !! attributes.query.exclude?.length }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel=\"Exclude This Page\"\n\t\t\t\t\t\t\t\thelp=\"Adds the current post ID to excluded IDs.\"\n\t\t\t\t\t\t\t\tchecked={ attributes.query.exclude.includes(\n\t\t\t\t\t\t\t\t\tprops.context.postId\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonChange={ ( val ) => {\n\t\t\t\t\t\t\t\t\tconst newQ = attributes.query;\n\t\t\t\t\t\t\t\t\tconst pId = props.context.postId;\n\t\t\t\t\t\t\t\t\tnewQ.exclude = newQ.exclude.filter(\n\t\t\t\t\t\t\t\t\t\t( i ) => i !== pId\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\t\t\t\t\tnewQ.exclude.push( pId );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconsole.log( 'newq', newQ );\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tquery: {\n\t\t\t\t\t\t\t\t\t\t\t...attributes.query,\n\t\t\t\t\t\t\t\t\t\t\t...newQ,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\t\t\tlabel=\"Excluded IDs\"\n\t\t\t\t\t\t\t\tvalue={ attributes.query.exclude }\n\t\t\t\t\t\t\t\tonChange={ ( tokens ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tquery: {\n\t\t\t\t\t\t\t\t\t\t\t...attributes.query,\n\t\t\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\t\t\texclude: tokens.filter( ( t ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tisNumber( t )\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n} );\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/query/filters/exclude-self',\n\twithAjaxToggle\n);\n","/**\n * Add base path, post type, and taxonomy filters to core search block\n */\nimport { TaxonomyControls } from 'wpBlockLibrary/src/query/edit/inspector-controls/taxonomy-controls';\nimport { usePostTypes } from 'wpBlockLibrary/src/query/utils';\n\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Panel, PanelBody, SelectControl } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\nconst addAttributesToSearch = ( settings, name ) => {\n\tif ( name !== 'core/search' ) {\n\t\treturn settings;\n\t}\n\tconst newSettings = {\n\t\tbaseCategory: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tquery: {\n\t\t\ttype: 'object',\n\t\t\tdefault: {\n\t\t\t\tpostType: null,\n\t\t\t\tauthor: '',\n\t\t\t\texclude: '',\n\t\t\t\tsticky: '',\n\t\t\t\ttaxQuery: null,\n\t\t\t},\n\t\t},\n\t};\n\tsettings.attributes = {\n\t\t...settings?.attributes,\n\t\t...newSettings,\n\t};\n\treturn settings;\n};\naddFilter(\n\t'blocks.registerBlockType',\n\t'cmls/block-filters/search/filters',\n\taddAttributesToSearch\n);\n\n/**\n * Inspector controls\n */\nconst withTaxTypeSelector = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\t// Do nothing if it's not our block\n\t\tif ( props.name !== 'core/search' ) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\tconst { attributes, setAttributes, isSelected } = props;\n\t\tconst [ postTypesSelectOptions, setPostTypesSelectOptions ] = useState(\n\t\t\t[]\n\t\t);\n\t\tconst [ postCategoriesSelectOptions, setPostCategoriesSelectOptions ] =\n\t\t\tuseState( [] );\n\n\t\tconst setQuery = ( newQuery ) =>\n\t\t\tsetAttributes( { query: { ...attributes.query, ...newQuery } } );\n\n\t\tconst {\n\t\t\tpostTypesTaxonomiesMap,\n\t\t\tpostTypesSelectOptions: availablePostTypes,\n\t\t} = usePostTypes();\n\t\tuseEffect( () => {\n\t\t\tsetPostTypesSelectOptions( [\n\t\t\t\t{\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tlabel: 'None',\n\t\t\t\t},\n\t\t\t\t...availablePostTypes,\n\t\t\t] );\n\t\t}, [ availablePostTypes ] );\n\n\t\tconst onPostTypeChange = ( newValue ) => {\n\t\t\tconst updateQuery = { postType: newValue };\n\t\t\t// We need to dynamically update the `taxQuery` property,\n\t\t\t// by removing any not supported taxonomy from the query.\n\t\t\tconst supportedTaxonomies = postTypesTaxonomiesMap[ newValue ];\n\t\t\tconst updatedTaxQuery = Object.entries(\n\t\t\t\tattributes?.query?.taxQuery || {}\n\t\t\t).reduce( ( accumulator, [ taxonomySlug, terms ] ) => {\n\t\t\t\tif (\n\t\t\t\t\tsupportedTaxonomies &&\n\t\t\t\t\tsupportedTaxonomies.includes( taxonomySlug )\n\t\t\t\t) {\n\t\t\t\t\taccumulator[ taxonomySlug ] = terms;\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t}, {} );\n\t\t\tupdateQuery.taxQuery = !! Object.keys( updatedTaxQuery ).length\n\t\t\t\t? updatedTaxQuery\n\t\t\t\t: undefined;\n\n\t\t\tupdateQuery.sticky = '';\n\t\t\tsetAttributes( { baseCategory: '' } );\n\t\t\tsetQuery( updateQuery );\n\t\t};\n\n\t\tconst { postCategories, postCategoriesLoading } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tif ( attributes?.query?.postType !== 'post' ) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tpostCategories: select( 'core' ).getEntityRecords(\n\t\t\t\t\t\t'taxonomy',\n\t\t\t\t\t\t'category',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t\t\tpostCategoriesLoading: select( 'core/data' ).isResolving(\n\t\t\t\t\t\t'core',\n\t\t\t\t\t\t'getEntityRecords',\n\t\t\t\t\t\t[ 'taxonomy', 'category', { per_page: -1 } ]\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ attributes.query, attributes.baseCategory ]\n\t\t);\n\t\tuseEffect( () => {\n\t\t\tconst noneAvailable = [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'None available',\n\t\t\t\t\tvalue: '',\n\t\t\t\t},\n\t\t\t];\n\t\t\tif ( postCategoriesLoading ) {\n\t\t\t\tsetPostCategoriesSelectOptions( [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tlabel: 'Loading categories',\n\t\t\t\t\t},\n\t\t\t\t] );\n\t\t\t} else if ( ! postCategories ) {\n\t\t\t\tsetPostCategoriesSelectOptions( noneAvailable );\n\t\t\t} else {\n\t\t\t\tconst options = postCategories.map( ( term ) => {\n\t\t\t\t\treturn { value: term.slug, label: term.name };\n\t\t\t\t} );\n\t\t\t\tsetPostCategoriesSelectOptions( [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\tlabel: 'None',\n\t\t\t\t\t},\n\t\t\t\t\t...options,\n\t\t\t\t] );\n\t\t\t}\n\t\t}, [ postCategories, postCategoriesLoading ] );\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<PanelBody title=\"Filters\" initialOpen={ true }>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tRestrict searches to a simple post category,\n\t\t\t\t\t\t\t\t\tor a more complex filter with other post\n\t\t\t\t\t\t\t\t\ttypes and taxonomy terms.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Post Type\"\n\t\t\t\t\t\t\t\t\tvalue={ attributes?.query?.postType || '' }\n\t\t\t\t\t\t\t\t\toptions={ postTypesSelectOptions }\n\t\t\t\t\t\t\t\t\tonChange={ onPostTypeChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ attributes?.query?.postType === 'post' && (\n\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\tlabel=\"Base Category\"\n\t\t\t\t\t\t\t\t\t\thelp=\"Searches can be restricted to a single Post category with a friendly URL.\"\n\t\t\t\t\t\t\t\t\t\tvalue={ attributes.baseCategory }\n\t\t\t\t\t\t\t\t\t\toptions={ postCategoriesSelectOptions }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\tbaseCategory: val,\n\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ ! attributes.baseCategory && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ attributes?.query?.postType && (\n\t\t\t\t\t\t\t\t\t\t\t<TaxonomyControls\n\t\t\t\t\t\t\t\t\t\t\t\tquery={ attributes?.query }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ setQuery }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</>\n\t\t);\n\t};\n} );\naddFilter(\n\t'editor.BlockEdit',\n\t'cmls/block-filters/search/filters',\n\twithTaxTypeSelector\n);\n","/**\n * Extends core/search\n */\nimport './filters';\n","export const MAX_FETCHED_TERMS = 100;\nexport const DEFAULTS_POSTS_PER_PAGE = 3;\n\nexport default {\n\tMAX_FETCHED_TERMS,\n\tDEFAULTS_POSTS_PER_PAGE,\n};\n","/**\n * WordPress dependencies\n */\nimport { FormTokenField } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { useTaxonomies } from '../../utils';\nimport { MAX_FETCHED_TERMS } from '../../constants';\n\n// Helper function to get the term id based on user input in terms `FormTokenField`.\nconst getTermIdByTermValue = ( terms, termValue ) => {\n\t// First we check for exact match by `term.id` or case sensitive `term.name` match.\n\tconst termId =\n\t\ttermValue?.id || terms.find( ( term ) => term.name === termValue )?.id;\n\tif ( termId ) {\n\t\treturn termId;\n\t}\n\n\t/**\n\t * Here we make an extra check for entered terms in a non case sensitive way,\n\t * to match user expectations, due to `FormTokenField` behaviour that shows\n\t * suggestions which are case insensitive.\n\t *\n\t * Although WP tries to discourage users to add terms with the same name (case insensitive),\n\t * it's still possible if you manually change the name, as long as the terms have different slugs.\n\t * In this edge case we always apply the first match from the terms list.\n\t */\n\tconst termValueLower = termValue.toLocaleLowerCase();\n\treturn terms.find(\n\t\t( term ) => term.name.toLocaleLowerCase() === termValueLower\n\t)?.id;\n};\n\nconst useTaxonomyTerms = ( slug ) => {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst terms = select( coreStore ).getEntityRecords(\n\t\t\t\t'taxonomy',\n\t\t\t\tslug,\n\t\t\t\t{ context: 'view', per_page: MAX_FETCHED_TERMS }\n\t\t\t);\n\t\t\treturn { terms };\n\t\t},\n\t\t[ slug ]\n\t);\n};\n\nexport function TaxonomyControls( { onChange, query } ) {\n\tconst { postType, taxQuery } = query;\n\n\tconst taxonomies = useTaxonomies( postType );\n\tif ( ! taxonomies || taxonomies.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ taxonomies.map( ( taxonomy ) => {\n\t\t\t\tconst value = taxQuery?.[ taxonomy.slug ] || [];\n\t\t\t\tconst handleChange = ( newTermIds ) =>\n\t\t\t\t\tonChange( {\n\t\t\t\t\t\ttaxQuery: {\n\t\t\t\t\t\t\t...taxQuery,\n\t\t\t\t\t\t\t[ taxonomy.slug ]: newTermIds,\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\n\t\t\t\treturn (\n\t\t\t\t\t<TaxonomyItem\n\t\t\t\t\t\tkey={ taxonomy.slug }\n\t\t\t\t\t\ttaxonomy={ taxonomy }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</>\n\t);\n}\nfunction TaxonomyItem( { taxonomy, value, onChange } ) {\n\tconst { terms } = useTaxonomyTerms( taxonomy.slug );\n\tif ( ! terms?.length ) {\n\t\treturn null;\n\t}\n\n\tconst onTermsChange = ( newTermValues ) => {\n\t\tconst termIds = new Set();\n\t\tfor ( const termValue of newTermValues ) {\n\t\t\tconst termId = getTermIdByTermValue( terms, termValue );\n\t\t\tif ( termId ) {\n\t\t\t\ttermIds.add( termId );\n\t\t\t}\n\t\t}\n\n\t\tonChange( Array.from( termIds ) );\n\t};\n\n\t// Selects only the existing term ids in proper format to be\n\t// used in `FormTokenField`. This prevents the component from\n\t// crashing in the editor, when non existing term ids were provided.\n\tconst taxQueryValue = value\n\t\t.map( ( termId ) => terms.find( ( t ) => t.id === termId ) )\n\t\t.filter( Boolean )\n\t\t.map( ( term ) => ( { id: term.id, value: term.name } ) );\n\n\treturn (\n\t\t<div className=\"block-library-query-inspector__taxonomy-control\">\n\t\t\t<FormTokenField\n\t\t\t\tlabel={ taxonomy.name }\n\t\t\t\tvalue={ taxQueryValue }\n\t\t\t\tsuggestions={ terms.map( ( t ) => t.name ) }\n\t\t\t\tonChange={ onTermsChange }\n\t\t\t\t__experimentalShowHowTo={ false }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { cloneBlock, store as blocksStore } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { name as queryLoopName } from './block.json';\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\n/**\n * The object used in Query block that contains info and helper mappings\n * from an array of IHasNameAndId objects.\n *\n * @typedef {Object} QueryEntitiesInfo\n * @property {IHasNameAndId[]}               entities  The array of entities.\n * @property {Object<string, IHasNameAndId>} mapById   Object mapping with the id as key and the entity as value.\n * @property {Object<string, IHasNameAndId>} mapByName Object mapping with the name as key and the entity as value.\n * @property {string[]}                      names     Array with the entities' names.\n */\n\n/**\n * Returns a helper object with mapping from Objects that implement\n * the `IHasNameAndId` interface. The returned object is used for\n * integration with `FormTokenField` component.\n *\n * @param {IHasNameAndId[]} entities The entities to extract of helper object.\n * @return {QueryEntitiesInfo} The object with the entities information.\n */\nexport const getEntitiesInfo = ( entities ) => {\n\tconst mapping = entities?.reduce(\n\t\t( accumulator, entity ) => {\n\t\t\tconst { mapById, mapByName, names } = accumulator;\n\t\t\tmapById[ entity.id ] = entity;\n\t\t\tmapByName[ entity.name ] = entity;\n\t\t\tnames.push( entity.name );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ mapById: {}, mapByName: {}, names: [] }\n\t);\n\treturn {\n\t\tentities,\n\t\t...mapping,\n\t};\n};\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of enitities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( get( entity, path ) ),\n\t} ) );\n};\n\n/**\n * Returns a helper object that contains:\n * 1. An `options` object from the available post types, to be passed to a `SelectControl`.\n * 2. A helper map with available taxonomies per post type.\n *\n * @return {Object} The helper object related to post types.\n */\nexport const usePostTypes = () => {\n\tconst postTypes = useSelect( ( select ) => {\n\t\tconst { getPostTypes } = select( coreStore );\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\tconst filteredPostTypes = getPostTypes( { per_page: -1 } )?.filter(\n\t\t\t( { viewable, slug } ) =>\n\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t);\n\t\treturn filteredPostTypes;\n\t}, [] );\n\tconst postTypesTaxonomiesMap = useMemo( () => {\n\t\tif ( ! postTypes?.length ) return;\n\t\treturn postTypes.reduce( ( accumulator, type ) => {\n\t\t\taccumulator[ type.slug ] = type.taxonomies;\n\t\t\treturn accumulator;\n\t\t}, {} );\n\t}, [ postTypes ] );\n\tconst postTypesSelectOptions = useMemo(\n\t\t() =>\n\t\t\t( postTypes || [] ).map( ( { labels, slug } ) => ( {\n\t\t\t\tlabel: labels.singular_name,\n\t\t\t\tvalue: slug,\n\t\t\t} ) ),\n\t\t[ postTypes ]\n\t);\n\treturn { postTypesTaxonomiesMap, postTypesSelectOptions };\n};\n\n/**\n * Hook that returns the taxonomies associated with a specific post type.\n *\n * @param {string} postType The post type from which to retrieve the associated taxonomies.\n * @return {Object[]} An array of the associated taxonomies.\n */\nexport const useTaxonomies = ( postType ) => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getTaxonomies } = select( coreStore );\n\t\t\tconst filteredTaxonomies = getTaxonomies( {\n\t\t\t\ttype: postType,\n\t\t\t\tper_page: -1,\n\t\t\t\tcontext: 'view',\n\t\t\t} );\n\t\t\treturn filteredTaxonomies;\n\t\t},\n\t\t[ postType ]\n\t);\n\treturn taxonomies;\n};\n\n/**\n * Hook that returns whether a specific post type is hierarchical.\n *\n * @param {string} postType The post type to check.\n * @return {boolean} Whether a specific post type is hierarchical.\n */\nexport function useIsPostTypeHierarchical( postType ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst type = select( coreStore ).getPostType( postType );\n\t\t\treturn type?.viewable && type?.hierarchical;\n\t\t},\n\t\t[ postType ]\n\t);\n}\n\n/**\n * Hook that returns the query properties' names defined by the active\n * block variation, to determine which block's filters to show.\n *\n * @param {Object} attributes Block attributes.\n * @return {string[]} An array of the query attributes.\n */\nexport function useAllowedControls( attributes ) {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( blocksStore ).getActiveBlockVariation(\n\t\t\t\tqueryLoopName,\n\t\t\t\tattributes\n\t\t\t)?.allowedControls,\n\n\t\t[ attributes ]\n\t);\n}\nexport function isControlAllowed( allowedControls, key ) {\n\t// Every controls is allowed if the list is not defined.\n\tif ( ! allowedControls ) {\n\t\treturn true;\n\t}\n\treturn allowedControls.includes( key );\n}\n\n/**\n * Clones a pattern's blocks and then recurses over that list of blocks,\n * transforming them to retain some `query` attribute properties.\n * For now we retain the `postType` and `inherit` properties as they are\n * fundamental for the expected functionality of the block and don't affect\n * its design and presentation.\n *\n * Returns the cloned/transformed blocks and array of existing Query Loop\n * client ids for further manipulation, in order to avoid multiple recursions.\n *\n * @param {WPBlock[]}        blocks               The list of blocks to look through and transform(mutate).\n * @param {Record<string,*>} queryBlockAttributes The existing Query Loop's attributes.\n * @return {{ newBlocks: WPBlock[], queryClientIds: string[] }} An object with the cloned/transformed blocks and all the Query Loop clients from these blocks.\n */\nexport const getTransformedBlocksFromPattern = (\n\tblocks,\n\tqueryBlockAttributes\n) => {\n\tconst {\n\t\tquery: { postType, inherit },\n\t} = queryBlockAttributes;\n\tconst clonedBlocks = blocks.map( ( block ) => cloneBlock( block ) );\n\tconst queryClientIds = [];\n\tconst blocksQueue = [ ...clonedBlocks ];\n\twhile ( blocksQueue.length > 0 ) {\n\t\tconst block = blocksQueue.shift();\n\t\tif ( block.name === 'core/query' ) {\n\t\t\tblock.attributes.query = {\n\t\t\t\t...block.attributes.query,\n\t\t\t\tpostType,\n\t\t\t\tinherit,\n\t\t\t};\n\t\t\tqueryClientIds.push( block.clientId );\n\t\t}\n\t\tblock.innerBlocks?.forEach( ( innerBlock ) => {\n\t\t\tblocksQueue.push( innerBlock );\n\t\t} );\n\t}\n\treturn { newBlocks: clonedBlocks, queryClientIds };\n};\n\n/**\n * Helper hook that determines if there is an active variation of the block\n * and if there are available specific patterns for this variation.\n * If there are, these patterns are going to be the only ones suggested to\n * the user in setup and replace flow, without including the default ones\n * for Query Loop.\n *\n * If there are no such patterns, the default ones for Query Loop are going\n * to be suggested.\n *\n * @param {string} clientId   The block's client ID.\n * @param {Object} attributes The block's attributes.\n * @return {string} The block name to be used in the patterns suggestions.\n */\nexport function useBlockNameForPatterns( clientId, attributes ) {\n\tconst activeVariationName = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blocksStore ).getActiveBlockVariation(\n\t\t\t\tqueryLoopName,\n\t\t\t\tattributes\n\t\t\t)?.name,\n\n\t\t[ attributes ]\n\t);\n\tconst blockName = `${ queryLoopName }/${ activeVariationName }`;\n\tconst activeVariationPatterns = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! activeVariationName ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\t__experimentalGetPatternsByBlockTypes,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\treturn __experimentalGetPatternsByBlockTypes(\n\t\t\t\tblockName,\n\t\t\t\trootClientId\n\t\t\t);\n\t\t},\n\t\t[ clientId, activeVariationName ]\n\t);\n\treturn activeVariationPatterns?.length ? blockName : queryLoopName;\n}\n","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["addFilter","createHigherOrderComponent","affectsBlocks","addSpacingSupportToBlocks","settings","name","_settings$supports","_settings$supports2","_settings$supports3","_settings$supports4","_settings$supports5","_settings$supports7","_settings$supports8","includes","supports","spacing","margin","Array","isArray","newMargin","_settings$supports6","concat","_toConsumableArray","_objectSpread","__experimentalDefaultControls","Object","assign","attributes","style","type","console","debug","addMarginStyleToBlocks","props","blockType","_attributes$style","_attributes$style2","_attributes$style3","marginTop","top","marginBottom","bottom","wp","hooks","addSpacingStyleToBlocks","BlockListBlock","_attributes$style4","_attributes$style5","createElement","styles","_extends","wrapperProps","PanelRow","ToggleControl","InspectorAdvancedControls","addAttributesToCoreQuery","useAjax","default","withAjaxToggle","BlockEdit","setAttributes","isSelected","Fragment","label","help","checked","onChange","val","saveAjaxAttribute","extraProps","className","replace","Panel","PanelBody","SelectControl","InspectorControls","useState","useEffect","useSelect","enableTaxTypeSelector","withTaxTypeSelector","term","_useState","_useState2","_slicedToArray","showInspector","setShowInspector","_useState3","_useState4","taxonomyOptions","setTaxonomyOptions","_useSelect","select","postType","getCurrentPostType","_useSelect2","query","context","per_page","availableTaxonomies","getTaxonomies","isLoading","isResolving","length","hasTax","newTaxes","map","tax","slug","value","newTerm","find","hierarchical","unshift","title","initialOpen","options","FormTokenField","isNull","addContextToCoreQuery","usesContext","_props$context","_attributes$query$exc","postId","exclude","newQ","pId","filter","i","push","log","tokens","t","isNumber","TaxonomyControls","usePostTypes","addAttributesToSearch","newSettings","baseCategory","author","sticky","taxQuery","_attributes$query3","_attributes$query4","_attributes$query5","postTypesSelectOptions","setPostTypesSelectOptions","postCategoriesSelectOptions","setPostCategoriesSelectOptions","setQuery","newQuery","_usePostTypes","postTypesTaxonomiesMap","availablePostTypes","onPostTypeChange","newValue","_attributes$query","updateQuery","supportedTaxonomies","updatedTaxQuery","entries","reduce","accumulator","_ref","_ref2","taxonomySlug","terms","keys","undefined","_attributes$query2","postCategories","getEntityRecords","postCategoriesLoading","noneAvailable","MAX_FETCHED_TERMS","DEFAULTS_POSTS_PER_PAGE","store","coreStore","useTaxonomies","getTermIdByTermValue","termValue","_terms$find","_terms$find2","termId","id","termValueLower","toLocaleLowerCase","useTaxonomyTerms","taxonomies","taxonomy","handleChange","newTermIds","_defineProperty","TaxonomyItem","key","_useTaxonomyTerms","onTermsChange","newTermValues","termIds","Set","_iterator","_createForOfIteratorHelper","_step","s","n","done","add","err","e","f","from","taxQueryValue","Boolean","suggestions","__experimentalShowHowTo","get","useMemo","blockEditorStore","decodeEntities","cloneBlock","blocksStore","queryLoopName","getEntitiesInfo","entities","mapping","entity","mapById","mapByName","names","mapToIHasNameAndId","path","postTypes","_getPostTypes","_select","getPostTypes","excludedPostTypes","filteredPostTypes","viewable","labels","singular_name","_select2","filteredTaxonomies","useIsPostTypeHierarchical","getPostType","useAllowedControls","_select$getActiveBloc","getActiveBlockVariation","allowedControls","isControlAllowed","getTransformedBlocksFromPattern","blocks","queryBlockAttributes","_queryBlockAttributes","inherit","clonedBlocks","block","queryClientIds","blocksQueue","_block$innerBlocks","shift","clientId","innerBlocks","forEach","innerBlock","newBlocks","useBlockNameForPatterns","activeVariationName","_select$getActiveBloc2","blockName","activeVariationPatterns","_select3","getBlockRootClientId","__experimentalGetPatternsByBlockTypes","rootClientId","_arrayLikeToArray","arr","len","arr2","_arrayWithHoles","arrayLikeToArray","_arrayWithoutHoles","toPropertyKey","obj","defineProperty","enumerable","configurable","writable","bind","target","arguments","source","prototype","hasOwnProperty","call","apply","_iterableToArray","iter","Symbol","iterator","_iterableToArrayLimit","r","l","u","a","o","next","_nonIterableRest","TypeError","_nonIterableSpread","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","_typeof","toPrimitive","String","Number","constructor","_unsupportedIterableToArray","minLen","toString","slice","test"],"sourceRoot":""}